(this["webpackJsonpgame-up"]=this["webpackJsonpgame-up"]||[]).push([[0],{151:function(e,a,t){},162:function(e,a,t){e.exports=t.p+"static/media/title.b4142dc5.jpg"},163:function(e,a,t){e.exports=t.p+"static/media/01.8e803ab2.png"},195:function(e,a,t){e.exports=t(234)},226:function(e,a){},227:function(e,a){},228:function(e,a){},229:function(e,a){},230:function(e,a){},233:function(e,a,t){},234:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(17),c=t.n(l),o=t(9),i=t(71),s=t(158),m=t(2),u={uiOpenModal:"[ui] Open modal",uiCloseModal:"[ui] Close modal",productSetActive:"[event] Set Active",productLogout:"[event] Logout event",userSetActive:"[user] Set Active",userLogout:"[user] Logout event",productStartAddNew:"[event] Start add new",productAddNew:"[event] Add new",productClearActiveProduct:"[event] Clear active event",productUpdated:"[event] Event updated",productDeleted:"[event] Event deleted",productLoaded:"[event] Events loaded",purchaseSetActive:"[purchase] Purchase set active",purchaseClearActivePurchase:"[purchase] Clear Purchase",purchaseUpdated:"[purchase] Purchase updated",purchaseLoaded:"[purchase] Purchases loaded",userStartAddNew:"[user] Start add new",userAddNew:"[user] Add new",userClearActiveUser:"[user] Clear active User",userUpdated:"[user] User updated",userDeleted:"[user] User deleted",userLoaded:"[user] Users loaded",authCheckingFinish:"[auth] Finish checking login state",authStartLogin:"[auth] Start login",authLogin:"[auth] Login",authStartRegister:"[auth] Start Register",authStartStartTokenRenew:"[auth] Start token renew",authLogout:"[auth] Logout",userCheckingFinish:"[user] Finish checking login state",userStartLogin:"[user] Start login",userLogin:"[user] Login",userStartRegister:"[user] Start Register",userStartStartTokenRenew:"[user] Start token renew",userClientLogout:"[user-client] Logout",userDataStartLogin:"[user_data] Start login",productShopAddNew:"[produc] Add new",productShopSetActive:"[produc] Set Active new",productShopClearActiveProduct:"[product] Clear active event",productShopUpdated:"[product] Event updated",productShopDeleted:"[product] Event deleted",productShopLoaded:"[product] Events loaded",productShopClear:"[product] Clear all",editUrl:"[paypal] Url",editImage:"[ticket] image",setNullImage:"[ticket] null",userGainLoading:"[user] Loading gain"},d={checking:!0},p=t(39),E={products:[],activeProduct:null},g={products:[],activeUser:null},b={purchases:[],activePurchase:null},h={checking:!0,user_info:null,gain_info:null},f={card:[],activeShop:null,url:null,image:null},v=Object(i.c)({card:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case u.productShopSetActive:return Object(m.a)(Object(m.a)({},e),{},{cardActive:a.payload});case u.productShopAddNew:for(var t=0;t<e.card.length;t++)if(e.card[t]._id===a.payload._id)return Object(m.a)(Object(m.a)({},e),{},{card:Object(p.a)(e.card)});return Object(m.a)(Object(m.a)({},e),{},{card:[].concat(Object(p.a)(e.card),[a.payload])});case u.productShopClearActiveProduct:return Object(m.a)(Object(m.a)({},e),{},{cardActive:null});case u.productShopUpdated:return Object(m.a)(Object(m.a)({},e),{},{card:e.card.map((function(e){return e._id===a.payload._id?a.payload:e}))});case u.productShopDeleted:return Object(m.a)(Object(m.a)({},e),{},{card:e.card.filter((function(a){return a._id!==e.cardActive._id})),cardActive:null});case u.productShopLoaded:return Object(m.a)(Object(m.a)({},e),{},{card:Object(p.a)(a.payload)});case u.productShopClear:return Object(m.a)({},f);case u.editUrl:return Object(m.a)(Object(m.a)({},e),{},{url:a.payload});case u.editImage:return Object(m.a)(Object(m.a)({},e),{},{image:a.payload});case u.setNullImage:return Object(m.a)(Object(m.a)({},e),{},{image:null});default:return e}},purchases:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case u.purchaseUpdated:return Object(m.a)(Object(m.a)({},e),{},{purchases:e.purchases.map((function(e){return e._id===a.payload?Object(m.a)(Object(m.a)({},e),{},{status:"true",is_pay:"true"}):e}))});case u.purchaseSetActive:return Object(m.a)(Object(m.a)({},e),{},{activePurchase:a.payload});case u.purchaseClearActivePurchase:return Object(m.a)(Object(m.a)({},e),{},{activePurchase:null});case u.purchaseLoaded:return Object(m.a)(Object(m.a)({},e),{},{purchases:Object(p.a)(a.payload)});case u.purchasesLogout:return Object(m.a)({},b);default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case u.userSetActive:return Object(m.a)(Object(m.a)({},e),{},{activeUser:a.payload});case u.userAddNew:return Object(m.a)(Object(m.a)({},e),{},{users:[].concat(Object(p.a)(e.users),[a.payload])});case u.userClearActiveUser:return Object(m.a)(Object(m.a)({},e),{},{activeUser:null});case u.userUpdated:return Object(m.a)(Object(m.a)({},e),{},{users:e.users.map((function(e){return e._id===a.payload._id?a.payload:e}))});case u.userDeleted:return Object(m.a)(Object(m.a)({},e),{},{users:e.users.filter((function(a){return a._id!==e.activeUser._id})),activeUser:null});case u.userLoaded:return Object(m.a)(Object(m.a)({},e),{},{users:Object(p.a)(a.payload)});case u.userLogout:return Object(m.a)({},g);default:return e}},products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case u.productSetActive:return Object(m.a)(Object(m.a)({},e),{},{activeProduct:a.payload});case u.productAddNew:return Object(m.a)(Object(m.a)({},e),{},{products:[].concat(Object(p.a)(e.products),[a.payload])});case u.productClearActiveProduct:return Object(m.a)(Object(m.a)({},e),{},{activeProduct:null});case u.productUpdated:return Object(m.a)(Object(m.a)({},e),{},{products:e.products.map((function(e){return e._id===a.payload._id?a.payload:e}))});case u.productDeleted:return Object(m.a)(Object(m.a)({},e),{},{products:e.products.filter((function(a){return a._id!==e.activeProduct._id})),activeProduct:null});case u.productLoaded:return Object(m.a)(Object(m.a)({},e),{},{products:Object(p.a)(a.payload)});case u.productLogout:return Object(m.a)({},E);default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case u.authLogin:return Object(m.a)(Object(m.a)(Object(m.a)({},e),a.payload),{},{checking:!1});case u.authCheckingFinish:return Object(m.a)(Object(m.a)({},e),{},{checking:!1});case u.authLogout:return{checking:!1};default:return e}},client:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case u.userLogin:return Object(m.a)(Object(m.a)(Object(m.a)({},e),a.payload),{},{checking:!1});case u.userCheckingFinish:return Object(m.a)(Object(m.a)({},e),{},{checking:!1});case u.userDataStartLogin:return Object(m.a)(Object(m.a)({},e),{},{checking:!1,user_info:a.payload});case u.userGainLoading:return Object(m.a)(Object(m.a)({},e),{},{checking:!1,gain_info:a.payload});case u.userClientLogout:return{checking:!1};default:return e}}}),O="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.d,j=Object(i.e)(v,O(Object(i.a)(s.a))),N=t(25),w=t(29),y=t(7),C=t(18),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Object(n.useState)(e),t=Object(y.a)(a,2),r=t[0],l=t[1],c=function(){l(e)},o=function(e){var a=e.target;l(Object(m.a)(Object(m.a)({},r),{},Object(C.a)({},a.name,a.value)))};return[r,o,c]},P=t(12),k=t.n(P),S=t(22),_="https://game-up-unam.herokuapp.com",L=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";console.log(_);var n="".concat(_,"/").concat(e);return"GET"===t?fetch(n):fetch(n,{method:t,headers:{"Content-type":"application/json"},body:JSON.stringify(a)})},A=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET";console.log(_);var n="".concat(_,"/").concat(e),r=localStorage.getItem("token")||"";return"GET"===t?fetch(n,{method:t,headers:{bearer:r}}):fetch(n,{method:t,headers:{"Content-type":"application/json",bearer:r},body:JSON.stringify(a)})},I=t(23),T=t.n(I),B=function(e){return{type:u.productAddNew,payload:e}},M=function(e){return{type:u.productUpdated,payload:e}},U=function(){return{type:u.productDeleted}},z=function(){return function(){var e=Object(S.a)(k.a.mark((function e(a){var t,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L("products");case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r=n.products,a(W(r)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}()},W=function(e){return{type:u.productLoaded,payload:e}},D=function(e){return{type:u.editImage,payload:e}},R=function(e){return{type:u.editUrl,payload:e}},F=function(){return{type:u.productShopClear}},Y=function(e,a,t){return function(){var n=Object(S.a)(k.a.mark((function n(r){var l,c;return k.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if("CLIENT"!==t){n.next=6;break}return n.next=3,L("login",{email:e,password:a},"POST");case 3:l=n.sent,n.next=9;break;case 6:return n.next=8,L("login/admin",{email:e,password:a},"POST");case 8:l=n.sent;case 9:return n.next=11,l.json();case 11:(c=n.sent).success?(localStorage.setItem("token",c.token),localStorage.setItem("token-init-date",(new Date).getTime()),r("CLIENT"===t?Q({uid:c.user[0]._id,name:c.user[0].name,lastname:c.user[0].lastname,email:c.user[0].email}):K({uid:c.user._id,name:c.user.name,lastname:c.user.lastname,email:c.user.email,type:c.user.type_user}))):T.a.fire("Error",c.message,"error");case 13:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},G=function(e){return function(){var a=Object(S.a)(k.a.mark((function a(t,n){var r,l;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,A("update_super_admin",e,"POST");case 2:return r=a.sent,a.next=5,r.json();case 5:(l=a.sent).success?(T.a.fire("Bien","El usuario se a actualizado. Por razones de seguridad cerraremos sesi\xf3n","success"),setTimeout((function(){t(ee())}),1e3)):(401===l.status&&(T.a.fire("Error","Por razones de seguridad cerrara sesi\xf3n automaticamente. ","error"),t(ae())),T.a.fire("Error",l.message,"error"));case 7:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},H=function(e,a){return function(){var t=Object(S.a)(k.a.mark((function t(n,r){var l,c,o,i;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=r().client.user_info,o=r().auth,"CLIENT"!==a){t.next=8;break}return t.next=5,A("update_user/".concat(c._id),e,"POST");case 5:l=t.sent,t.next=11;break;case 8:return t.next=10,A("update_admin/".concat(o.uid),e,"POST");case 10:l=t.sent;case 11:return t.next=13,l.json();case 13:if(!(i=t.sent).success){t.next=20;break}return T.a.fire("Bien","El usuario se a actualizado. Por razones de seguridad cerraremos sesi\xf3n","success"),setTimeout((function(){n(ee())}),1e3),t.abrupt("return");case 20:401===i.status&&(T.a.fire("Error","Por razones de seguridad cerrara sesi\xf3n automaticamente. ","error"),n(ae())),T.a.fire("Error",i.message,"error");case 22:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},X=function(){return{type:u.authCheckingFinish}},$=function(){return{type:u.userCheckingFinish}},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var a=Object(S.a)(k.a.mark((function a(t,n){var r,l,c;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e,0===e.length&&(r=n().client.uid),a.next=4,A("purchases/".concat(r));case 4:return l=a.sent,a.next=7,l.json();case 7:(c=a.sent).success&&t(q(c.user_info));case 9:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var a=Object(S.a)(k.a.mark((function a(t,n){var r,l,c;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=e,0===e.length&&(r=n().client.uid),a.next=4,A("gain/".concat(r));case 4:return l=a.sent,a.next=7,l.json();case 7:(c=a.sent).success&&t(J(c.message));case 9:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},J=function(e){return{type:u.userGainLoading,payload:e}},q=function(e){return{type:u.userDataStartLogin,payload:e}},K=function(e){return{type:u.authLogin,payload:e}},Q=function(e){return{type:u.userLogin,payload:e}},ee=function(){return function(e){localStorage.clear(),e({type:u.productLogout}),e(F()),e(te()),e(ae())}},ae=function(){return{type:u.authLogout}},te=function(){return{type:u.userClientLogout}},ne=/^[0-9]*$/,re=/^[a-zA-Z]*$/,le=/^[a-zA-Z0-9 ]*$/,ce=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,oe=/^((-)?(0|([1-9][0-9]*))(\.[0-9]+)?)$/,ie=t(304),se=(t(151),t(272)),me=t(262),ue=t(271),de=t(266),pe=t(267),Ee=t(265);function ge(e){var a=e.open,t=e.setOpen,l=Object(n.useState)(""),c=Object(y.a)(l,2),i=c[0],s=c[1],m=Object(o.b)(),u=function(){var e;t(!1),m((e={email:i},Object(S.a)(k.a.mark((function a(){var t,n;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L("recover_password",e,"POST");case 2:return t=a.sent,a.next=5,t.json();case 5:(n=a.sent).success?T.a.fire("Correcto","Checar correo.","success"):T.a.fire("Error",n.message,"error");case 7:case"end":return a.stop()}}),a)}))))),s("")},d=function(){t(!1)};return r.a.createElement("div",null,r.a.createElement(me.a,{open:a,onClose:d,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ee.a,{id:"form-dialog-title"},"Recuperar Contrase\xf1a."),r.a.createElement(de.a,null,r.a.createElement(pe.a,null,"Se enviara un correo a este email con la nueva contrase\xf1a."),r.a.createElement(ie.a,{autoFocus:!0,margin:"dense",id:"name",label:"Email Address",type:"email",fullWidth:!0,onChange:function(e){!function(e){s(e.target.value)}(e)},value:i})),r.a.createElement(ue.a,null,r.a.createElement(se.a,{onClick:function(){d()},color:"primary"},"Cancel"),r.a.createElement(se.a,{onClick:function(){u()},color:"primary"},"Recuperar"))))}var be=function(){var e=Object(o.b)(),a=r.a.useState(!1),t=Object(y.a)(a,2),l=t[0],c=t[1],i=Object(n.useState)({lEmail:null,lPassword:null}),s=Object(y.a)(i,2),u=s[0],d=s[1],p=x({lEmail:"",lPassword:""}),E=Object(y.a)(p,2),g=E[0],b=E[1],h=g.lEmail,f=g.lPassword;return r.a.createElement("div",{className:"container login-container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 login-form-1"},r.a.createElement("h3",null,"Ingreso"),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),0!==h.length&&ce.test(h)?f.length<=5?d(Object(m.a)(Object(m.a)({},u),{},{lEmail:null,lPassword:"M\xednimo 6 caracteres"})):(d({lEmail:null,lPassword:null}),e(Y(h,f,"ADMIN"))):d(Object(m.a)(Object(m.a)({},u),{},{lPassword:null,lEmail:"Correo Invalido"}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement(ie.a,{error:!!u.lEmail,label:u.lEmail?u.lEmail:"Correo",type:"text",className:"form-control",placeholder:"Correo",name:"lEmail",value:h,onChange:b})),r.a.createElement("div",{className:"form-group"},r.a.createElement(ie.a,{error:!!u.lPassword,label:u.lPassword?u.lPassword:"Contrase\xf1a",type:"password",className:"form-control",placeholder:"Contrase\xf1a",name:"lPassword",value:f,onChange:b})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",className:"ml-5 btnSubmit",value:"Login"})),r.a.createElement("p",{className:"ml-5 btn btn-link",onClick:function(){c(!0)}},"Olvido su contrase\xf1a?")))),r.a.createElement(ge,{open:l,setOpen:c}))},he=t(120),fe=["isAuthenticated","component","redirect"],ve=function(e){var a=e.isAuthenticated,t=e.component,n=e.redirect,l=Object(he.a)(e,fe);return r.a.createElement(w.b,Object.assign({},l,{component:function(e){return a?r.a.createElement(w.a,{to:n}):r.a.createElement(t,e)}}))},Oe=["isAuthenticated","component"],je=function(e){var a=e.isAuthenticated,t=e.component,n=Object(he.a)(e,Oe);return r.a.createElement(w.b,Object.assign({},n,{component:function(e){return a?r.a.createElement(t,e):r.a.createElement(w.a,{to:"/"})}}))},Ne=t(273),we=t(274),ye=t(275),Ce=t(78),xe=Object(Ne.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},link:{color:"#fffff"}}})),Pe=function(){var e=xe();return r.a.createElement("div",null,r.a.createElement(we.a,{position:"static"},r.a.createElement(ye.a,null,r.a.createElement(Ce.a,{variant:"h6",className:e.title},r.a.createElement(N.b,{className:"text-white",to:"/"},"Game Up")),r.a.createElement(se.a,null,r.a.createElement(N.b,{className:"p-3 mb-2 bg-dark text-white",to:"/login"},"INICIA SESI\xd3N")," "))))},ke=function(){return r.a.createElement("div",null,r.a.createElement("footer",{className:"py-5 bg-black"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"m-0 text-center text-white small"},"Copyright \xa9 P\xe1gina hecha por Alfonso , Ricardo, Sergio, Joaquin."))))},Se=function(){var e=Object(o.b)(),a=r.a.useState(!1),t=Object(y.a)(a,2),l=t[0],c=t[1],i=x({lEmail:"",lPassword:""}),s=Object(y.a)(i,2),u=s[0],d=s[1],p=Object(n.useState)({lEmail:null,lPassword:null}),E=Object(y.a)(p,2),g=E[0],b=E[1],h=Object(n.useState)({rName:null,rLastName:null,rEmail:null,rPassword1:null,rPassword2:null,rCode:null}),f=Object(y.a)(h,2),v=f[0],O=f[1],j=x({rName:"",rLastName:"",rEmail:"",rPassword1:"",rPassword2:"",rCode:""}),N=Object(y.a)(j,2),w=N[0],C=N[1],P=u.lEmail,_=u.lPassword,A=w.rName,I=w.rEmail,B=w.rPassword1,M=w.rPassword2,U=w.rLastName,z=w.rCode;return r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,null),r.a.createElement("div",{className:"container login-container mb-5"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6 login-form-1"},r.a.createElement("h3",null,"Ingreso"),r.a.createElement("form",{onSubmit:function(a){a.preventDefault(),0!==P.length&&ce.test(P)?_.length<=5?b(Object(m.a)(Object(m.a)({},g),{},{lEmail:null,lPassword:"M\xednimo 6 caracteres"})):(b({lEmail:null,lPassword:null}),e(Y(P,_,"CLIENT"))):b(Object(m.a)(Object(m.a)({},g),{},{lPassword:null,lEmail:"Correo Invalido"}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement(ie.a,{type:"text",error:!!g.lEmail,label:g.lEmail?g.lEmail:"Correo",className:"form-control",placeholder:"Correo",name:"lEmail",value:P,onChange:d})),r.a.createElement("div",{className:"form-group"},r.a.createElement(ie.a,{error:!!g.lPassword,label:g.lPassword?g.lPassword:"Contrase\xf1a",type:"password",className:"form-control",placeholder:"Contrase\xf1a",name:"lPassword",value:_,onChange:d})),r.a.createElement("div",{className:"form-group ml-5"},r.a.createElement("input",{type:"submit",className:"btnSubmit",value:"Login"})),r.a.createElement("p",{className:"ml-5 btn btn-link",onClick:function(){c(!0)}},"Olvido su contrase\xf1a?"))),r.a.createElement("div",{className:"col-md-6 login-form-2"},r.a.createElement("h3",null,"Registro"),r.a.createElement("form",{onSubmit:function(a){var t,n,r,l,c,o;(a.preventDefault(),0!==I.length&&ce.test(I))?0!==A.length&&re.test(A)?0!==U.length&&re.test(U)?B===M?B.length<=5?O(Object(m.a)(Object(m.a)({},v),{},{rName:null,rLastName:null,rPassword2:null,rCode:null,rEmail:null,rPassword1:"M\xednimo 6 caracteres"})):M.length<=5?O(Object(m.a)(Object(m.a)({},v),{},{rName:null,rLastName:null,rPassword1:null,rCode:null,rEmail:null,rPassword2:"M\xednimo 6 caracteres."})):z.length<=4?O(Object(m.a)(Object(m.a)({},v),{},{rName:null,rLastName:null,rPassword1:null,rPassword2:null,rEmail:null,rCode:"M\xednimo 5 caracteres."})):(O({rName:null,rLastName:null,rEmail:null,rPassword1:null,rPassword2:null,rCode:null}),e((t=I,n=B,r=A,l=U,c=z,o="CLIENT",function(){var e=Object(S.a)(k.a.mark((function e(a){var i,s;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("CLIENT"!==o){e.next=6;break}return e.next=3,L("signin",{email:t,password:n,name:r,lastname:l,code:c},"POST");case 3:i=e.sent,e.next=9;break;case 6:return e.next=8,L("create_admin",{email:t,password:n,name:r,lastname:l,code:c},"POST");case 8:i=e.sent;case 9:return e.next=11,i.json();case 11:(s=e.sent).success?(localStorage.setItem("token",s.token),localStorage.setItem("token-init-date",(new Date).getTime()),"CLIENT"===o&&a(Q({uid:s.user._id,name:s.user.name,lastname:s.user.lastname,email:s.user.email})),T.a.fire("Correcto","Tu c\xf3digo embajador es : ".concat(s.code),"success")):T.a.fire("Error",s.message,"error");case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()))):O(Object(m.a)(Object(m.a)({},v),{},{rName:null,rLastName:null,rCode:null,rEmail:null,rPassword1:"Las contrase\xf1as deben ser iguales",rPassword2:"Las contrase\xf1as deben ser iguales"})):O(Object(m.a)(Object(m.a)({},v),{},{rName:null,rPassword1:null,rPassword2:null,rCode:null,rEmail:null,rLastName:"Apellido inv\xe1lido."})):O(Object(m.a)(Object(m.a)({},v),{},{rLastName:null,rPassword1:null,rPassword2:null,rCode:null,rEmail:null,rName:"Nombre inv\xe1lido."})):O(Object(m.a)(Object(m.a)({},v),{},{rName:null,rLastName:null,rPassword1:null,rPassword2:null,rCode:null,rEmail:"Correo Invalido"}))}},r.a.createElement("div",{className:"form-group"},r.a.createElement(ie.a,{error:!!v.rName,label:v.rName?v.rName:"Nombre",type:"text",className:"form-control",placeholder:"Nombre",name:"rName",value:A,onChange:C})),r.a.createElement("div",{className:"form-group"},r.a.createElement(ie.a,{error:!!v.rLastName,label:v.rLastName?v.rLastName:"Apellido",type:"text",className:"form-control",placeholder:"Apellidos",name:"rLastName",value:U,onChange:C})),r.a.createElement("div",{className:"form-group"},r.a.createElement(ie.a,{error:!!v.rEmail,label:v.rEmail?v.rEmail:"Correo.",type:"email",className:"form-control",placeholder:"Correo",name:"rEmail",value:I,onChange:C})),r.a.createElement("div",{className:"form-group"},r.a.createElement(ie.a,{error:!!v.rPassword1,label:v.rPassword1?v.rPassword1:"Contrase\xf1a",type:"password",className:"form-control",placeholder:"Contrase\xf1a",name:"rPassword1",value:B,onChange:C})),r.a.createElement("div",{className:"form-group"},r.a.createElement(ie.a,{error:!!v.rPassword2,label:v.rPassword2?v.rPassword2:"Confirmar contrase\xf1a",type:"password",className:"form-control",placeholder:"Repita la contrase\xf1a",name:"rPassword2",value:M,onChange:C})),r.a.createElement("div",{className:"form-group"},r.a.createElement(ie.a,{error:!!v.rCode,label:v.rCode?v.rCode:"C\xf3digo Embajador",type:"text",className:"form-control",placeholder:"C\xf3digo embajador",name:"rCode",value:z,onChange:C})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"submit",className:"btnSubmit",value:"Crear cuenta"})))))),r.a.createElement(ge,{open:l,setOpen:c}),r.a.createElement(ke,null))},_e=t(162),Le=t.n(_e),Ae=function(){return r.a.createElement("div",null,r.a.createElement("img",{className:"masthead",src:Le.a,alt:"",style:{width:"100%"}}),r.a.createElement(N.b,{to:"/home",className:"btn btn-danger btn-xl rounded-pill mt-2",style:{marginLeft:"41%"}},"Comprar"))},Ie=t(163),Te=t.n(Ie),Be=function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row align-items-center"},r.a.createElement("div",{className:"col-lg-6 order-lg-2"},r.a.createElement("div",{className:"p-5"},r.a.createElement("img",{className:"img-fluid rounded-circle",src:Te.a,alt:""}))),r.a.createElement("div",{className:"col-lg-6 order-lg-1"},r.a.createElement("div",{className:"p-5"},r.a.createElement("h2",{className:"display-4"},"\xa1Bienvenido a game up!"),r.a.createElement("p",{className:"text-justify"},"Ser la primera empresa mexicana dispuesta a explotar toda la creatividad en la mayor diversidad de productos decorativos y de tecnolog\xeda de la comunidad gamer. "),r.a.createElement("br",null))))))},Me=function(){return r.a.createElement("div",null,r.a.createElement(Pe,null),r.a.createElement(Ae,null),r.a.createElement(Be,null),r.a.createElement(ke,null))},Ue=t(5),ze=t(290),We=t(270),De=t(289),Re=t(291),Fe=t(276),Ye=t(83),Ge=t.n(Ye),He=t(85),Xe=t.n(He),$e=t(84),Ve=t.n($e),Ze=t(292),Je=t(293),qe=t(294),Ke=t(82),Qe=t.n(Ke),ea=t(81),aa=t.n(ea),ta=t(34),na=t(6),ra=t(280),la=t(282),ca=t(277),oa=t(279),ia=t(281),sa=t(278),ma=t(121),ua=t(169),da=t.n(ua),pa=t(168),Ea=t.n(pa),ga=t(167),ba=t.n(ga),ha=t(35),fa=t.n(ha),va=t(166),Oa=t.n(va),ja=t(236),Na=t(100);Na.c.GlobalWorkerOptions.workerSrc="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(Na.c.version,"/pdf.worker.js");var wa=Object(Ne.a)((function(e){return{appBar:{position:"relative"},title:{marginLeft:e.spacing(2),flex:1}}})),ya=r.a.forwardRef((function(e,a){return r.a.createElement(ja.a,Object.assign({direction:"up",ref:a},e))}));function Ca(e){var a=wa(),t=e.open,l=Object(o.c)((function(e){return e.card})).image,c=Object(o.c)((function(e){return e.client})).email,i=Object(n.useState)(null),s=Object(y.a)(i,2),m=s[0],d=s[1];var p=Object(o.b)(),E=function(){p({type:u.setNullImage,payload:""})};return r.a.createElement("div",null,r.a.createElement(me.a,{fullScreen:!0,open:t,onClose:function(){E()},TransitionComponent:ya},r.a.createElement(we.a,{className:a.appBar},r.a.createElement(ye.a,null,r.a.createElement(Fe.a,{edge:"start",color:"inherit",onClick:function(){E()},"aria-label":"close"},r.a.createElement(Oa.a,null)),r.a.createElement(Ce.a,{variant:"h6",className:a.title},"FAVOR DE IMPRIMIR HOJA (GUARDAR TICKET_ID)"))),c?r.a.createElement("div",{className:"alert alert-primary",role:"alert"},"Ticket enviado a ",r.a.createElement("p",{className:"alert-link"},c),"."):r.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Sin correo."),r.a.createElement(Na.a,{file:"data:application/pdf;base64,".concat(l),onLoadSuccess:function(e){var a=e.numPages;d(a)},options:{workerSrc:"pdf.worker.js"}},r.a.createElement(Na.b,{pageNumber:1})),r.a.createElement("p",null,"Page ",1," of ",m)))}var xa=function(){var e=Object(o.c)((function(e){return e.card})),a=e.card,t=e.url,n=e.image,l=Object(o.b)(),c=Object(o.c)((function(e){return e.client})).email,i=Object(w.g)(),s=function(){var e=0;a.map((function(a){return e+=a.count*a.cost,0})),e=e.toFixed(2);var t=a.map((function(e){return-1===e.cost.toString().indexOf(".")&&(e.cost="".concat(e.cost,".00")),e.cost.toString().indexOf(".")>e.cost.toString().length-3&&(e.cost="".concat(e.cost,"0")),{name:e.name,sku:"001",price:e.cost,currency:"MXN",quantity:e.count.toString()}}));l(function(e){return function(){var a=Object(S.a)(k.a.mark((function a(t){var n,r;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L("paypal_payment",e,"POST");case 3:return n=a.sent,a.next=6,n.json();case 6:(r=a.sent).success?t(R(r.url)):T.a.fire("Error","Contactar a propietario","error"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}({amount:{currency:"MXN",total:e},description:"Compra sigamos juntos",item_list:{items:t},email:c||"sincorreo@gmail.com"}))},m=function(){var e,t=0;a.map((function(e){return t+=e.count*e.cost,0})),t=t.toFixed(2),l((e={purchase:{products:a.map((function(e){return{name:e.name,description:e.description,amount:e.count,cost:e.cost}})),amount:parseFloat(t)},email:c||""},function(){var a=Object(S.a)(k.a.mark((function a(t){var n,r;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,L("make_purchase",e,"POST");case 3:return n=a.sent,a.next=6,n.json();case 6:(r=a.sent).success?t(D(r.pdf)):T.a.fire("Error","Contactar a propietario","error"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()))};return null!==t&&window.location.replace(t),r.a.createElement("div",null,r.a.createElement("div",{className:"view intro-2"},r.a.createElement("div",{className:"full-bg-img"},r.a.createElement("div",{className:"mask rgba-black-strong flex-center"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"white-text text-center wow fadeInUp"},r.a.createElement("h2",null,"Card"),r.a.createElement("h5",null,"Lista de productos"),r.a.createElement("br",null)))))),r.a.createElement(_a,null),r.a.createElement("div",{className:"mt-5 d-flex flex-row justify-content-center"},r.a.createElement(se.a,{disabled:a.length<=0,onClick:function(){l(F())},className:"mr-4",variant:"contained",color:"secondary",endIcon:r.a.createElement(ba.a,null)},"Limpiar carrito"),r.a.createElement(se.a,{disabled:a.length<=0,onClick:function(){i.push("/home/products")},variant:"contained",color:"primary",endIcon:r.a.createElement(aa.a,null)},"Volver a comprar")),r.a.createElement("div",{className:"card text-center mt-5"},r.a.createElement("div",{className:"card-header"},"Card Total"),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Subtotal : $ ",a.length>0?function(){var e=0;return a.map((function(a){return e+=a.count*a.cost,0})),e=e.toFixed(2)}():0),r.a.createElement("p",{className:"card-text"},"Entrega en tienda."),r.a.createElement(se.a,{disabled:a.length<=0,onClick:function(){m()},className:"mr-4",variant:"contained",color:"secondary",endIcon:r.a.createElement(Ea.a,null)},"Pagar en tienda"),r.a.createElement(se.a,{disabled:a.length<=0,onClick:function(){s()},variant:"contained",color:"primary",endIcon:r.a.createElement(da.a,null)},"Comprar en Linea"))),r.a.createElement(Ca,{open:!!n}))},Pa=Object(na.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(ca.a),ka=Object(na.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(sa.a),Sa=Object(Ne.a)({table:{minWidth:700}});function _a(){var e=Sa(),a=Object(o.b)(),t=Object(o.c)((function(e){return e.card})).card,n=function(e,t){t=parseInt(e.target.value,10)<=0||parseInt(e.target.value,10)>t.stack?Object(m.a)(Object(m.a)({},t),{},{count:1}):Object(m.a)(Object(m.a)({},t),{},{count:parseInt(e.target.value,10)||0}),a(function(e){return{type:u.productShopUpdated,payload:e}}(t))},l=function(e){a(function(e){return{type:u.productShopSetActive,payload:e}}(e)),a({type:u.productShopDeleted})};return r.a.createElement(oa.a,{component:ma.a},r.a.createElement(ra.a,{className:e.table,"aria-label":"customized table"},r.a.createElement(ia.a,null,r.a.createElement(sa.a,null,r.a.createElement(Pa,null,"Imagen"),r.a.createElement(Pa,null,"Nombre"),r.a.createElement(Pa,{align:"right"},"Descripci\xf3n"),r.a.createElement(Pa,{align:"right"},"Precio"),r.a.createElement(Pa,{align:"right"},"Cantidad"),r.a.createElement(Pa,{align:"right"},"Total"),r.a.createElement(Pa,{align:"right"},"Action"))),r.a.createElement(la.a,null,t.map((function(e){return r.a.createElement(ka,{key:e._id},r.a.createElement(Pa,{component:"th",scope:"row"},r.a.createElement("img",{src:e.image,style:{maxWidth:106,height:"auto"},className:"img-fluid",alt:"Responsive"})),r.a.createElement(Pa,{component:"th",scope:"row"},e.name),r.a.createElement(Pa,{align:"right"},e.description),r.a.createElement(Pa,{align:"right"},"$ ",e.cost),r.a.createElement(Pa,{align:"right"},r.a.createElement("input",{type:"number",value:e.count,onChange:function(a){n(a,e)}})," "),r.a.createElement(Pa,{align:"right"},(e.cost*e.count).toFixed(2)),r.a.createElement(se.a,{className:"mt-5",onClick:function(){l(e)},variant:"contained",color:"secondary"},r.a.createElement(fa.a,null)))})))))}var La=t(283),Aa=t(284),Ia=t(285),Ta=t(288),Ba=t(287),Ma=t(286),Ua=t(170),za=t.n(Ua),Wa=Object(Ne.a)((function(e){return{root:{maxWidth:345,flexGrow:1},media:{height:250},button:{margin:e.spacing(1),marginLeft:30},text:{marginBottom:20}}})),Da=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.products})).products,t=Wa(),l=function(a){a=Object(m.a)(Object(m.a)({},a),{},{count:1}),e({type:u.productShopAddNew,payload:a})};return Object(n.useEffect)((function(){e(z())}),[e]),r.a.createElement("div",null,r.a.createElement(La.a,{item:!0,xs:12},r.a.createElement(La.a,{container:!0,justify:"center",spacing:2},a.map((function(e){return r.a.createElement(La.a,{key:e._id,item:!0},r.a.createElement(Aa.a,{className:t.root},r.a.createElement(Ia.a,null,r.a.createElement(Ma.a,{className:t.media,image:e.image,title:"Contemplative Reptile"}),r.a.createElement(Ba.a,null,r.a.createElement(Ce.a,{gutterBottom:!0,className:t.text,variant:"h5",component:"h2"},e.name),r.a.createElement(Ce.a,{variant:"body2",className:t.text,color:"textSecondary",component:"p"},e.description),r.a.createElement(Ce.a,{variant:"body2",className:t.text,color:"textPrimary",component:"p"},"PRECIO: $ ",e.cost," MXN"))),r.a.createElement(Ta.a,null,0===e.stack?r.a.createElement(se.a,{onClick:function(){l(e)},variant:"contained",color:"secondary",disabled:!0,className:t.button},"AGOTADO"):r.a.createElement(se.a,{onClick:function(){l(e)},variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(za.a,null)},"AGREGAR A CARRITO"))))})))))},Ra=Object(Ne.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(C.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},title:{flexGrow:1},link:{color:"#fffff"}}}));function Fa(){var e,a,t=Ra(),n=Object(ta.a)(),l=r.a.useState(!1),c=Object(y.a)(l,2),o=c[0],i=c[1],s=[{text:"Productos",item:r.a.createElement(aa.a,null),route:"/home/products"},{text:"Comprar",item:r.a.createElement(Qe.a,null),route:"/home/purchase"}];return r.a.createElement("div",{className:t.root},r.a.createElement(De.a,null),r.a.createElement(we.a,{position:"fixed",className:Object(Ue.a)(t.appBar,Object(C.a)({},t.appBarShift,o))},r.a.createElement(ye.a,null,r.a.createElement(Fe.a,{color:"danger","aria-label":"open drawer",onClick:function(){i(!0)},edge:"start",className:Object(Ue.a)(t.menuButton,Object(C.a)({},t.hide,o))},r.a.createElement(Ge.a,null)),r.a.createElement(Ce.a,{variant:"h6",className:t.title},r.a.createElement(N.b,{className:"text-white",to:"/"},"Game Up")),r.a.createElement(se.a,null,r.a.createElement(N.b,{className:"p-3 mb-2 bg-dark text-white",to:"/login"},"INICIA SESI\xd3N")," "))),r.a.createElement(ze.a,{variant:"permanent",className:Object(Ue.a)(t.drawer,(e={},Object(C.a)(e,t.drawerOpen,o),Object(C.a)(e,t.drawerClose,!o),e)),classes:{paper:Object(Ue.a)((a={},Object(C.a)(a,t.drawerOpen,o),Object(C.a)(a,t.drawerClose,!o),a))}},r.a.createElement("div",{className:t.toolbar},r.a.createElement(Fe.a,{onClick:function(){i(!1)}},"rtl"===n.direction?r.a.createElement(Ve.a,null):r.a.createElement(Xe.a,null))),r.a.createElement(Re.a,null),r.a.createElement(We.a,null,s.map((function(e){return r.a.createElement(N.b,{key:"df"+e.text,to:e.route},r.a.createElement(Ze.a,{button:!0,key:"df"+e.text},r.a.createElement(Je.a,null,e.item),r.a.createElement(qe.a,{primary:e.text})))})))),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(w.d,null,r.a.createElement(w.b,{exact:!0,path:"/home",render:function(){return r.a.createElement(w.a,{to:"/home/products"})}}),r.a.createElement(w.b,{exact:!0,path:"/home/products",component:Da}),r.a.createElement(w.b,{path:"/home/purchase",component:xa}))))}var Ya=t(172),Ga=t.n(Ya),Ha=t(297),Xa=t(306),$a=t(101),Va=t(87),Za=t.n(Va),Ja=t(86),qa=t.n(Ja),Ka=t(171),Qa=t.n(Ka),et=t(32),at=t.n(et),tt=(t(135),t(303)),nt=Object(Ne.a)((function(e){return{root:{"& > *":{borderBottom:"unset"}},container:{maxHeight:440,marginTop:10},icon:{margin:5},button:{margin:e.spacing(1)},input_space:{marginTop:50,marginBottom:50}}})),rt=function(e){var a=e.users;return r.a.createElement("div",null,r.a.createElement(we.a,{position:"static",className:"mt-5 mb-3"},r.a.createElement(ye.a,{variant:"dense"},r.a.createElement(Ce.a,{variant:"h6",color:"inherit"},"Lista de Usuarios invitados"))),r.a.createElement(ct,{users:a}))},lt=[{id:"name",label:"Name",minWidth:140},{id:"lastname",label:"LastName",minWidth:100},{id:"email",label:"Email",minWidth:140,align:"right"},{id:"type_user",label:"Rol",minWidth:110,align:"right"}];function ct(e){var a=nt(),t=e.users,n=r.a.useState(0),l=Object(y.a)(n,2),c=l[0],o=l[1],i=r.a.useState(10),s=Object(y.a)(i,2),m=s[0],u=s[1];return r.a.createElement(ma.a,{className:a.root},r.a.createElement(oa.a,{className:a.container},r.a.createElement(ra.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(ia.a,null,r.a.createElement(sa.a,null,lt.map((function(e){return r.a.createElement(ca.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(la.a,null,"undefined"!=typeof t?t.slice(c*m,c*m+m).map((function(e){return r.a.createElement(sa.a,{hover:!0,role:"checkbox",tabIndex:-1,key:e._id},lt.map((function(a){var t=e[a.id];return r.a.createElement(ca.a,{key:a.id,align:a.align},a.format&&"number"===typeof t?a.format(t):t)})))})):r.a.createElement(sa.a,null," ",r.a.createElement(ca.a,null,"...Wait "))))),r.a.createElement(tt.a,{rowsPerPageOptions:[10,25,100],component:"div",count:t?t.length:0,rowsPerPage:m,page:c,onChangePage:function(e,a){o(a)},onChangeRowsPerPage:function(e){u(+e.target.value),o(0)}}))}var ot=t(301),it=t(295),st=t(69),mt=t.n(st),ut=t(68),dt=t.n(ut),pt=t(99),Et=t.n(pt),gt=function(e){var a=e.purchases;return r.a.createElement("div",null,r.a.createElement(we.a,{position:"static",className:"mt-5 mb-3"},r.a.createElement(ye.a,{variant:"dense"},r.a.createElement(Ce.a,{variant:"h6",color:"inherit"},"Compras de usuario"))),r.a.createElement(ht,{className:"mb-5 ",purchases:a}))};function bt(e){var a=e.row,t=nt(),n=r.a.useState(!1),l=Object(y.a)(n,2),c=l[0],o=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(sa.a,{className:t.root},r.a.createElement(ca.a,null,r.a.createElement(Fe.a,{"aria-label":"expand row",size:"small",onClick:function(){return o(!c)}},c?r.a.createElement(dt.a,null):r.a.createElement(mt.a,null))),r.a.createElement(ca.a,{align:"right"},a.date_operation),r.a.createElement(ca.a,{align:"right"},a.hour_operation),r.a.createElement(ca.a,{align:"right"},"true"===a.status?r.a.createElement(Et.a,null):r.a.createElement(fa.a,null))),r.a.createElement(sa.a,null,r.a.createElement(ca.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},r.a.createElement(it.a,{in:c,timeout:"auto",unmountOnExit:!0},r.a.createElement(ot.a,{margin:1},r.a.createElement(Ce.a,{variant:"h6",gutterBottom:!0,component:"div"},"Productos"),r.a.createElement(ra.a,{size:"small","aria-label":"purchases"},r.a.createElement(ia.a,null,r.a.createElement(sa.a,null,r.a.createElement(ca.a,null,"Nombre"),r.a.createElement(ca.a,null,"Cantidad"),r.a.createElement(ca.a,{align:"right"},"Precio (MXN)"),r.a.createElement(ca.a,{align:"right"},"Precio Total (MXN)"))),r.a.createElement(la.a,null,a.products.map((function(e){return r.a.createElement(sa.a,{key:e.name},r.a.createElement(ca.a,{component:"th",scope:"row"},e.name),r.a.createElement(ca.a,{component:"th",scope:"row"},e.amount),r.a.createElement(ca.a,{scope:"row",align:"right"},e.cost),r.a.createElement(ca.a,{align:"right"},e.cost*e.amount))})))))))))}function ht(e){var a=e.purchases,t=r.a.useState(!1),n=Object(y.a)(t,2),l=n[0],c=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(oa.a,{component:ma.a},r.a.createElement(ra.a,{"aria-label":"collapsible table"},r.a.createElement(ia.a,null,r.a.createElement(sa.a,null,r.a.createElement(ca.a,null),r.a.createElement(ca.a,{align:"right"},"Fecha"),r.a.createElement(ca.a,{align:"right"},"Hora"),r.a.createElement(ca.a,{align:"right"},"Entregado"))),r.a.createElement(la.a,null,a.map((function(e){return r.a.createElement(bt,{open:l,setOpen:c,key:e._id,row:e})}))))))}var ft=t(38),vt=t.n(ft);function Ot(e){var a=e.open,t=e.setOpen,l=Object(o.b)(),c=Object(o.c)((function(e){return e.client})).user_info,i=nt(),s=Object(n.useState)({rName:null,rLastName:null,rEmail:null}),u=Object(y.a)(s,2),d=u[0],p=u[1],E=Object(n.useState)({rPassword1:null,rPassword2:null}),g=Object(y.a)(E,2),b=g[0],h=g[1],f=x({rName:c.name,rLastName:c.lastname,rEmail:c.email,rPassword1:"",rPassword2:""}),v=Object(y.a)(f,2),O=v[0],j=v[1],N=O.rName,w=O.rEmail,C=O.rPassword1,P=O.rPassword2,k=O.rLastName,S=function(){p({rName:null,rLastName:null,rEmail:null}),h({rPassword1:null,rPassword2:null}),t(!1)};return r.a.createElement("div",null,r.a.createElement(me.a,{open:a,onClose:S,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ee.a,{id:"form-dialog-title"},"Edita Usuario"),r.a.createElement(de.a,null,r.a.createElement(Aa.a,{className:i.root},r.a.createElement(Ia.a,null,r.a.createElement(Ba.a,null,r.a.createElement(Ce.a,{className:i.title,color:"textSecondary",gutterBottom:!0},"Edita USuario"),r.a.createElement(ie.a,{error:!!d.rName,label:d.rName?d.rName:"Nombre",fullWidth:!0,type:"text",className:"input_space",placeholder:"Nombre",margin:"dense",id:"name",name:"rName",variant:"outlined",value:N,onChange:j}),r.a.createElement(ie.a,{error:!!d.rLastName,label:d.rLastName?d.rLastName:"Apellido",fullWidth:!0,type:"text",margin:"dense",className:"input_space",placeholder:"Apellidos",name:"rLastName",variant:"outlined",value:k,onChange:j}),r.a.createElement(ie.a,{error:!!d.rEmail,label:d.rEmail?d.rEmail:"Correo",fullWidth:!0,type:"email",margin:"dense",className:"input_space",placeholder:"Correo",name:"rEmail",variant:"outlined",value:w,onChange:j}))),r.a.createElement(Ta.a,null,r.a.createElement(se.a,{onClick:function(){0!==w.length&&ce.test(w)?0!==N.length&&re.test(N)?0!==k.length&&re.test(k)?(t(!1),p({rName:null,rLastName:null,rEmail:null}),w===c.email?l(H({name:N,lastname:k},"CLIENT")):l(H({email:w,name:N,lastname:k},"CLIENT"))):p(Object(m.a)(Object(m.a)({},d),{},{rName:null,rEmail:null,rLastName:"Apellido inv\xe1lido."})):p(Object(m.a)(Object(m.a)({},d),{},{rLastName:null,rEmail:null,rName:"Nombre inv\xe1lido."})):p(Object(m.a)(Object(m.a)({},d),{},{rName:null,rLastName:null,rEmail:"Correo Invalido"}))},variant:"contained",color:"primary",size:"small",className:i.button,startIcon:r.a.createElement(vt.a,null)},"Save"))),r.a.createElement(Aa.a,{className:i.root},r.a.createElement(Ia.a,null,r.a.createElement(Ba.a,null,r.a.createElement(Ce.a,{className:i.title,color:"textSecondary",gutterBottom:!0},"Cambiar contrase\xf1a"),r.a.createElement(ie.a,{error:!!b.rPassword1,label:b.rPassword1?b.rPassword1:"Contrase\xf1a",fullWidth:!0,type:"password",margin:"dense",className:"input_space",placeholder:"Contrase\xf1a",name:"rPassword1",value:C,variant:"outlined",onChange:j}),r.a.createElement(ie.a,{error:!!b.rPassword2,label:b.rPassword2?b.rPassword2:"Contrase\xf1a",fullWidth:!0,type:"password",margin:"dense",className:"input_space",placeholder:"Confirma Contrase\xf1a",name:"rPassword2",variant:"outlined",value:P,onChange:j}))),r.a.createElement(Ta.a,null,r.a.createElement(se.a,{onClick:function(){C===P?C.length<=5?h(Object(m.a)(Object(m.a)({},b),{},{rPassword2:null,rPassword1:"M\xednimo 6 caracteres"})):P.length<=5?h(Object(m.a)(Object(m.a)({},b),{},{rPassword1:null,rPassword2:"M\xednimo 6 caracteres."})):(h({rPassword1:null,rPassword2:null}),t(!1),l(H({email:w,password:C,name:N,lastname:k},"CLIENT"))):h(Object(m.a)(Object(m.a)({},b),{},{rPassword1:"Las contrase\xf1as deben ser iguales",rPassword2:"Las contrase\xf1as deben ser iguales"}))},variant:"contained",color:"primary",size:"small",className:i.button,startIcon:r.a.createElement(vt.a,null)},"Cambia contrase\xf1a")))),r.a.createElement(ue.a,null,r.a.createElement(se.a,{onClick:function(){S()},variant:"contained",color:"secondary",size:"small",className:i.button,startIcon:r.a.createElement(fa.a,null)},"Cancel"))))}var jt=t(296),Nt=Object(Ne.a)((function(e){return{root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},orange:{color:e.palette.getContrastText(jt.a[500]),backgroundColor:jt.a[500],width:e.spacing(10),height:e.spacing(10)},paper:{padding:e.spacing(2),margin:"auto",maxWidth:500},image:{width:128,height:128},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},large:{width:e.spacing(7),height:e.spacing(7)},menuButton:{marginTop:15,fontSize:100,marginInlineEnd:0,marginLeft:201},appBar:{marginTop:10,marginBottom:20,height:150}}})),wt=function(){var e=Object(o.b)(),a=Nt(),t=0,l=Object(n.useState)(!1),c=Object(y.a)(l,2),i=c[0],s=c[1],m=!1,u=Object(o.c)((function(e){return e.client})).user_info;if(at.a.locale("es"),null==u&&e(V()),null!=u){var d=at()().format("YYYY"),p=at()().format("MM"),E=(p-1).toString();1===p.length&&(p="0".concat(p)),1===E.length&&(E="0".concat(E)),u.gain.length>0&&0===t&&u.gain.map((function(e){return e.date_operation>"".concat(d).concat(E,"26")&&e.date_operation<="".concat(d).concat(p,"26")&&(t+=e.amount),0}));for(var g=0;g<u.purchases.length;g++)if(at()(u.purchases[g].createdAt).format("YYYYMMDD")>"".concat(d).concat(E,"26")&&at()(u.purchases[g].createdAt).format("YYYYMMDD")<="".concat(d).concat(p,"26")&&"true"===u.purchases[g].is_pay){m=!0;break}t=parseFloat(t).toFixed(2)}return null==u?r.a.createElement("div",null,r.a.createElement(Ha.a,null)):r.a.createElement("div",null,m?r.a.createElement("br",null):r.a.createElement("div",{class:"p-3 mb-2 bg-danger text-white"},"Para poder cobrar es necesario que hayas comprado un producto!"),r.a.createElement(we.a,{position:"static",className:a.appBar,style:{display:"flex",alignItems:"center"}},r.a.createElement(ye.a,{variant:"dense"},r.a.createElement(qa.a,{edge:"start",className:"mt-3 mr-5",style:{fontSize:40}}),r.a.createElement("div",{className:"mr-5 ml-5 mt-4"},r.a.createElement(Ce.a,{variant:"h3",color:"inherit"},"Ganancias"),r.a.createElement(Ce.a,{className:"ml-5 mb-3",variant:"h6",color:"inherit"},at()().format("MMMM YYYY"))),r.a.createElement(Ce.a,{variant:"h3",className:"mr-5 ml-4 mt-3",color:"inherit"},"$",t),r.a.createElement(N.b,{to:"/user/gain",edge:"end",className:a.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(Qa.a,{style:{fontSize:40}})),r.a.createElement(Fe.a,null))),r.a.createElement(ma.a,{className:a.paper},r.a.createElement(La.a,{container:!0,spacing:2},r.a.createElement(La.a,{item:!0},r.a.createElement($a.a,{className:a.image},r.a.createElement(Xa.a,{className:a.orange},u.name[0].toUpperCase()))),r.a.createElement(La.a,{item:!0,xs:12,sm:!0,container:!0},r.a.createElement(La.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2},r.a.createElement(La.a,{item:!0,xs:!0},r.a.createElement(Ce.a,{gutterBottom:!0,variant:"subtitle1"},u.name+" "+u.lastname),r.a.createElement(Ce.a,{variant:"body2",gutterBottom:!0},u.email)),r.a.createElement(La.a,{item:!0},r.a.createElement(se.a,{onClick:function(){s(!0)},variant:"contained",color:"primary",size:"small",className:a.button,startIcon:r.a.createElement(Za.a,null)},"Editar")))))),u.purchases.length<=0?r.a.createElement("div",{className:"alert alert-dark mt-1",role:"alert"},"A\xfan no haces ninguna compra!"):r.a.createElement(gt,{purchases:u.purchases}),u.invite_users.length<=0?r.a.createElement("div",{className:"alert alert-dark mt-5",role:"alert"},"A\xfan no invitas a ning\xfan usuario!"):r.a.createElement(rt,{users:u.invite_users}),r.a.createElement(Ot,{open:i,setOpen:s}))},yt=Object(Ne.a)((function(e){return{root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},orange:{color:e.palette.getContrastText(jt.a[500]),backgroundColor:jt.a[500],width:e.spacing(10),height:e.spacing(10)},paper:{padding:e.spacing(2),margin:"auto",maxWidth:500},image:{width:128,height:128},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},large:{width:e.spacing(7),height:e.spacing(7)},menuButton:{marginTop:15,fontSize:100,marginInlineEnd:0,marginLeft:201},appBar:{marginTop:10,marginBottom:20,height:150}}})),Ct=Object(Ne.a)((function(e){return{root:{"& > *":{borderBottom:"unset"}},container:{maxHeight:440,marginTop:10},icon:{margin:5},button:{margin:e.spacing(1)},input_space:{marginTop:50,marginBottom:50}}})),xt=function(e){var a=e.gain;return r.a.createElement("div",null,r.a.createElement(we.a,{position:"static",className:"mt-5 mb-3"},r.a.createElement(ye.a,{variant:"dense"},r.a.createElement(Ce.a,{variant:"h6",color:"inherit"},"Registro de ganancias por compra de usuario invitado"))),r.a.createElement(kt,{className:"mb-5 ",gain:a}))};function Pt(e){var a=e.row,t=Ct(),n=r.a.useState(!1),l=Object(y.a)(n,2),c=l[0],o=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(sa.a,{className:t.root},r.a.createElement(ca.a,null,r.a.createElement(Fe.a,{"aria-label":"expand row",size:"small",onClick:function(){return o(!c)}},c?r.a.createElement(dt.a,null):r.a.createElement(mt.a,null))),r.a.createElement(ca.a,{align:"right"},a.user_buy.name),r.a.createElement(ca.a,{align:"right"},a.user_buy.email),r.a.createElement(ca.a,{align:"right"},a.amount.toFixed(2))),r.a.createElement(sa.a,null,r.a.createElement(ca.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},r.a.createElement(it.a,{in:c,timeout:"auto",unmountOnExit:!0},r.a.createElement(ot.a,{margin:1},r.a.createElement(Ce.a,{variant:"h6",gutterBottom:!0,component:"div"},"Detalles de compra"),r.a.createElement(ra.a,{size:"small","aria-label":"purchases"},r.a.createElement(ia.a,null,r.a.createElement(sa.a,null,r.a.createElement(ca.a,null,"Fecha"),r.a.createElement(ca.a,null,"Pago de Usuario total (MXN)"))),r.a.createElement(la.a,null,r.a.createElement(sa.a,{key:a.purchases.date_operation},r.a.createElement(ca.a,{component:"th",scope:"row"},a.purchases.date_operation),r.a.createElement(ca.a,{component:"th",scope:"row"},a.purchases.amount)))))))))}function kt(e){var a=e.gain,t=r.a.useState(!1),n=Object(y.a)(t,2),l=n[0],c=n[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(oa.a,{component:ma.a},r.a.createElement(ra.a,{"aria-label":"collapsible table"},r.a.createElement(ia.a,null,r.a.createElement(sa.a,null,r.a.createElement(ca.a,null),r.a.createElement(ca.a,{align:"right"},"Nombre Usuario"),r.a.createElement(ca.a,{align:"right"},"Email"),r.a.createElement(ca.a,{align:"right"},"Ganancia (MXN)"))),r.a.createElement(la.a,null,a.map((function(e){return r.a.createElement(Pt,{open:l,setOpen:c,key:e._id,row:e})}))))))}var St=function(){var e=Object(o.c)((function(e){return e.client})).gain_info,a=Object(o.c)((function(e){return e.client})).user_info,t=yt(),n=Object(o.b)();at.a.locale("es");var l=0;if(null==a&&n(V()),null==e&&n(Z()),null!=a){var c=at()().format("YYYY"),i=at()().format("MM"),s=(i-1).toString();1===i.length&&(i="0".concat(i)),1===s.length&&(s="0".concat(s)),a.gain.length>0&&0===l&&a.gain.map((function(e){return e.date_operation>"".concat(c).concat(s,"26")&&e.date_operation<="".concat(c).concat(i,"26")&&(l+=e.amount),0})),l=parseFloat(l).toFixed(2)}return null==a||null==e?r.a.createElement("div",null,r.a.createElement(Ha.a,null)):r.a.createElement("div",null,r.a.createElement(we.a,{position:"static",className:t.appBar,style:{display:"flex",alignItems:"center"}},r.a.createElement(ye.a,{variant:"dense"},r.a.createElement(qa.a,{edge:"start",className:"mt-3 mr-5",style:{fontSize:40}}),r.a.createElement("div",{className:"mr-5 ml-5 mt-4"},r.a.createElement(Ce.a,{variant:"h3",color:"inherit"},"Ganancias"),r.a.createElement(Ce.a,{className:"ml-5 mb-3",variant:"h6",color:"inherit"},at()().format("MMMM YYYY"))),r.a.createElement(Ce.a,{variant:"h3",className:"mr-5 ml-4 mt-3",color:"inherit"},"$",l))),e.length<=0?r.a.createElement("div",{className:"alert alert-dark mt-1",role:"alert"},"A\xfan no generan tus embajadores!"):r.a.createElement(xt,{gain:e}))},_t=Object(Ne.a)((function(e){return{root:{display:"flex"},appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:240,flexShrink:0,whiteSpace:"nowrap"},drawerOpen:{width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerClose:Object(C.a)({transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),overflowX:"hidden",width:e.spacing(7)+1},e.breakpoints.up("sm"),{width:e.spacing(9)+1}),toolbar:Object(m.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:e.spacing(0,1)},e.mixins.toolbar),content:{flexGrow:1,padding:e.spacing(3)},title:{flexGrow:1}}}));function Lt(){var e,a,t=_t(),n=Object(o.b)(),l=Object(ta.a)(),c=r.a.useState(!1),i=Object(y.a)(c,2),s=i[0],m=i[1],u=[{text:"Inicio",item:r.a.createElement(Ga.a,null),route:"/user/home"},{text:"Productos",item:r.a.createElement(aa.a,null),route:"/user/products"},{text:"Comprar",item:r.a.createElement(Qe.a,null),route:"/user/purchase"}];return r.a.createElement("div",{className:t.root},r.a.createElement(De.a,null),r.a.createElement(we.a,{position:"fixed",className:Object(Ue.a)(t.appBar,Object(C.a)({},t.appBarShift,s))},r.a.createElement(ye.a,null,r.a.createElement(Fe.a,{color:"inherit","aria-label":"open drawer",onClick:function(){m(!0)},edge:"start",className:Object(Ue.a)(t.menuButton,Object(C.a)({},t.hide,s))},r.a.createElement(Ge.a,null)),r.a.createElement(Ce.a,{variant:"h6",className:t.title},r.a.createElement(N.b,{className:"text-white",to:"/"},"Game Up")),r.a.createElement(se.a,{onClick:function(){n(ee())}},"Logout"))),r.a.createElement(ze.a,{variant:"permanent",className:Object(Ue.a)(t.drawer,(e={},Object(C.a)(e,t.drawerOpen,s),Object(C.a)(e,t.drawerClose,!s),e)),classes:{paper:Object(Ue.a)((a={},Object(C.a)(a,t.drawerOpen,s),Object(C.a)(a,t.drawerClose,!s),a))}},r.a.createElement("div",{className:t.toolbar},r.a.createElement(Fe.a,{onClick:function(){m(!1)}},"rtl"===l.direction?r.a.createElement(Ve.a,null):r.a.createElement(Xe.a,null))),r.a.createElement(Re.a,null),r.a.createElement(We.a,null,u.map((function(e){return r.a.createElement(N.b,{to:e.route},r.a.createElement(Ze.a,{button:!0,key:e.text+"row"},r.a.createElement(Je.a,{key:e.text+"icon"},e.item),r.a.createElement(qe.a,{key:e.text+"text",primary:e.text})))})))),r.a.createElement("main",{className:t.content},r.a.createElement("div",{className:t.toolbar}),r.a.createElement(w.d,null,r.a.createElement(w.b,{exact:!0,path:"/user",render:function(){return r.a.createElement(w.a,{to:"/user/home"})}}),r.a.createElement(w.b,{path:"/user/home",component:wt}),r.a.createElement(w.b,{path:"/user/products",component:Da}),r.a.createElement(w.b,{path:"/user/purchase",component:xa}),r.a.createElement(w.b,{path:"/user/gain",component:St}))))}var At=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.client})),t=a.checking,l=a.uid;return Object(n.useEffect)((function(){e(function(){var e=Object(S.a)(k.a.mark((function e(a){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("renew");case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).success?(localStorage.setItem("token",n.token),localStorage.setItem("token-init-date",(new Date).getTime()),a(Q({uid:n.user._id,name:n.user.name,lastname:n.user.lastname,email:n.user.email}))):a($());case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}),[e]),t?r.a.createElement("h5",null,"Espere..."):r.a.createElement("div",null,r.a.createElement(w.d,null,r.a.createElement(ve,{exact:!0,path:"/",component:Me,isAuthenticated:!!l,redirect:"/user"}),r.a.createElement(ve,{exact:!0,path:"/login",redirect:"/user",component:Se,isAuthenticated:!!l}),r.a.createElement(ve,{path:"/home",redirect:"/user",component:Fa,isAuthenticated:!!l}),r.a.createElement(je,{path:"/user",component:Lt,isAuthenticated:!!l}),r.a.createElement(w.a,{to:"/user"})))},It=t(140),Tt=t.n(It),Bt=t(175),Mt=t.n(Bt),Ut=t(176),zt=t.n(Ut),Wt=Object(Ne.a)((function(e){return{root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},orange:{color:e.palette.getContrastText(jt.a[500]),backgroundColor:jt.a[500]},paper:{padding:e.spacing(2),margin:"auto",maxWidth:500},image:{width:128,height:128},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}}})),Dt=Object(Ne.a)((function(e){return{root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},button:{margin:e.spacing(1)},input_space:{marginTop:50,marginBottom:50}}}));function Rt(e){var a=e.open,t=e.setOpen,l=Object(o.b)(),c=Object(o.c)((function(e){return e.auth})),i=c.name,s=c.email,u=c.lastname,d=c.type,p=Dt(),E=x({rName:i,rLastName:u,rEmail:s,rPassword1:"",rPassword2:"",realPassword1:"",realPassword2:""}),g=Object(y.a)(E,2),b=g[0],h=g[1],f=Object(n.useState)({rName:null,rLastName:null}),v=Object(y.a)(f,2),O=v[0],j=v[1],N=Object(n.useState)({rPassword1:null,rPassword2:null}),w=Object(y.a)(N,2),C=w[0],P=w[1],k=Object(n.useState)({rEmail:null,realPassword1:null,realPassword2:null}),S=Object(y.a)(k,2),_=S[0],L=S[1],A=b.rName,I=b.rEmail,T=b.rPassword1,B=b.rPassword2,M=b.realPassword1,U=b.realPassword2,z=b.rLastName,W=function(){j({rName:null,rLastName:null}),L({rEmail:null,realPassword1:null,realPassword2:null}),P({rPassword1:null,rPassword2:null}),t(!1)};return r.a.createElement("div",null,r.a.createElement(me.a,{open:a,onClose:W,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ee.a,{id:"form-dialog-title"},"Edita Usuario"),r.a.createElement(de.a,null,r.a.createElement(Aa.a,{className:p.root},r.a.createElement(Ia.a,null,r.a.createElement(Ba.a,null,r.a.createElement(Ce.a,{className:p.title,color:"textSecondary",gutterBottom:!0},"Edita USuario"),r.a.createElement(ie.a,{error:!!O.rName,label:O.rName?O.rName:"Nombre",fullWidth:!0,type:"text",className:"input_space",placeholder:"Nombre",margin:"dense",id:"name",name:"rName",variant:"outlined",value:A,onChange:h}),r.a.createElement(ie.a,{fullWidth:!0,error:!!O.rLastName,label:O.rLastName?O.rLastName:"Apellido",type:"text",margin:"dense",className:"input_space",placeholder:"Apellidos",name:"rLastName",variant:"outlined",value:z,onChange:h}))),r.a.createElement(Ta.a,null,r.a.createElement(se.a,{onClick:function(){0!==A.length&&re.test(A)?0!==z.length&&re.test(z)?(j({rName:null,rLastName:null}),t(!1),l("SUPER_ADMIN"===d?G({name:A,lastname:z}):H(I===s?{name:A,lastname:z}:{email:I,name:A,lastname:z},"ADMIN"))):j(Object(m.a)(Object(m.a)({},O),{},{rName:null,rLastName:"Apellido inv\xe1lido."})):j(Object(m.a)(Object(m.a)({},O),{},{rLastName:null,rName:"Nombre inv\xe1lido."}))},variant:"contained",color:"primary",size:"small",className:p.button,startIcon:r.a.createElement(vt.a,null)},"Save"))),"SUPER_ADMIN"===d?r.a.createElement(Aa.a,{className:p.root},r.a.createElement(Ia.a,null,r.a.createElement(Ba.a,null,r.a.createElement(Ce.a,{className:p.title,color:"textSecondary",gutterBottom:!0},"Cambiar contrase\xf1a de tu correo asociado a cuenta"),r.a.createElement(ie.a,{error:!!_.rEmail,label:_.rEmail?_.rEmail:"Correo",fullWidth:!0,type:"email",margin:"dense",className:"input_space",placeholder:"Correo",name:"rEmail",variant:"outlined",value:I,onChange:h}),r.a.createElement(ie.a,{error:!!_.realPassword1,label:_.realPassword1?_.realPassword1:"Contrase\xf1a",fullWidth:!0,type:"password",margin:"dense",className:"input_space",placeholder:"Contrase\xf1a",name:"realPassword1",value:M,variant:"outlined",onChange:h}),r.a.createElement(ie.a,{error:!!_.realPassword2,label:_.realPassword2?_.realPassword2:"Contrase\xf1a",fullWidth:!0,type:"password",margin:"dense",className:"input_space",placeholder:"Confirma Contrase\xf1a",name:"realPassword2",variant:"outlined",value:U,onChange:h}))),r.a.createElement(Ta.a,null,r.a.createElement(se.a,{onClick:function(){0!==I.length&&ce.test(I)?M===U?M.length<=5?L(Object(m.a)(Object(m.a)({},_),{},{rEmail:null,realPassword2:null,realPassword1:"M\xednimo 6 caracteres"})):U.length<=5?L(Object(m.a)(Object(m.a)({},_),{},{rEmail:null,realPassword1:null,realPassword2:"M\xednimo 6 caracteres."})):(L({rEmail:null,realPassword1:null,realPassword2:null}),t(!1),l(G(I===s?{password:M,name:A,lastname:z,realPassword:M}:{password:M,name:A,email:I,lastname:z,realPassword:M}))):L(Object(m.a)(Object(m.a)({},_),{},{rEmail:null,realPassword1:"Las contrase\xf1as deben ser iguales",realPassword2:"Las contrase\xf1as deben ser iguales"})):L(Object(m.a)(Object(m.a)({},_),{},{realPassword1:null,realPassword2:null,rEmail:"Correo Invalido"}))},variant:"contained",color:"primary",size:"small",className:p.button,startIcon:r.a.createElement(vt.a,null)},"Cambia contrase\xf1a correo real"))):r.a.createElement(Re.a,null),r.a.createElement(Aa.a,{className:p.root},r.a.createElement(Ia.a,null,r.a.createElement(Ba.a,null,r.a.createElement(Ce.a,{className:p.title,color:"textSecondary",gutterBottom:!0},"Cambiar contrase\xf1a"),r.a.createElement(ie.a,{error:!!C.rPassword1,label:C.rPassword1?C.rPassword1:"Contrase\xf1a",fullWidth:!0,type:"password",margin:"dense",className:"input_space",placeholder:"Contrase\xf1a",name:"rPassword1",value:T,variant:"outlined",onChange:h}),r.a.createElement(ie.a,{error:!!C.rPassword2,label:C.rPassword2?C.rPassword2:"Contrase\xf1a",fullWidth:!0,type:"password",margin:"dense",className:"input_space",placeholder:"Confirma Contrase\xf1a",name:"rPassword2",variant:"outlined",value:B,onChange:h}))),r.a.createElement(Ta.a,null,r.a.createElement(se.a,{onClick:function(){T===B?T.length<=5?P(Object(m.a)(Object(m.a)({},C),{},{rPassword2:null,rPassword1:"M\xednimo 6 caracteres"})):B.length<=5?P(Object(m.a)(Object(m.a)({},C),{},{rPassword1:null,rPassword2:"M\xednimo 6 caracteres."})):(t(!1),P({rPassword1:null,rPassword2:null}),l("SUPER_ADMIN"===d?G({email:I,password:T,name:A,lastname:z}):H({email:I,password:T,name:A,lastname:z},"ADMIN"))):P(Object(m.a)(Object(m.a)({},C),{},{rPassword1:"Las contrase\xf1as deben ser iguales",rPassword2:"Las contrase\xf1as deben ser iguales"}))},variant:"contained",color:"primary",size:"small",className:p.button,startIcon:r.a.createElement(vt.a,null)},"Cambia contrase\xf1a")))),r.a.createElement(ue.a,null,r.a.createElement(se.a,{onClick:function(){W()},variant:"contained",color:"secondary",size:"small",className:p.button,startIcon:r.a.createElement(fa.a,null)},"Cancel"))))}var Ft=function(){var e=Object(n.useState)(!1),a=Object(y.a)(e,2),t=a[0],l=a[1],c=Object(o.c)((function(e){return e.auth})),i=c.name,s=c.email,m=c.lastname,u=c.type,d=Wt();return r.a.createElement("div",null,r.a.createElement(Aa.a,{className:d.root,variant:"outlined"},r.a.createElement(Ba.a,null,r.a.createElement(ma.a,{className:d.paper},r.a.createElement(La.a,{container:!0,spacing:2},r.a.createElement(La.a,{item:!0},r.a.createElement($a.a,{className:d.image},r.a.createElement(Xa.a,{className:d.orange},i[0].toUpperCase()))),r.a.createElement(La.a,{item:!0,xs:12,sm:!0,container:!0},r.a.createElement(La.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2},r.a.createElement(La.a,{item:!0,xs:!0},r.a.createElement(Ce.a,{gutterBottom:!0,variant:"subtitle1"},i+" "+m),r.a.createElement(Ce.a,{variant:"body2",gutterBottom:!0},s),r.a.createElement(Ce.a,{variant:"body2",color:"textSecondary"},"ROL: ",u)),r.a.createElement(La.a,{item:!0},r.a.createElement(se.a,{variant:"contained",color:"primary",onClick:function(){l(!0)},className:d.button,endIcon:r.a.createElement(Za.a,null)},"Editar")))))))),r.a.createElement(Rt,{open:t,setOpen:l}))},Yt=t(118),Gt=t.n(Yt),Ht=t(173),Xt=t.n(Ht),$t=t(298),Vt=t(117),Zt=t.n(Vt),Jt=t(268),qt=Object(Ne.a)((function(e){return{root:{maxWidth:345,flexGrow:1},media:{height:140},button:{margin:e.spacing(1)}}}));function Kt(e){var a=e.open,t=e.setOpen,l=Object(o.b)(),c=qt(),i=Object(n.useState)({name:"",description:"",cost:0,stack:0}),s=Object(y.a)(i,2),u=s[0],d=s[1],E=Object(n.useState)({name:null,description:null,cost:null,stack:null}),g=Object(y.a)(E,2),b=g[0],h=g[1],f=function(){h(Object(m.a)(Object(m.a)({},b),{},{name:null,cost:null,stack:null,description:null})),t(!1)},v=function(e){d(Object(m.a)(Object(m.a)({},u),{},Object(C.a)({},e.name,e.value)))},O=function(){0!==u.description.length&&le.test(u.description)?0!==u.name.length&&le.test(u.name)?0!==u.cost&&oe.test(u.cost)?0!==u.stack&&ne.test(u.stack)?(h(Object(m.a)(Object(m.a)({},b),{},{name:null,cost:null,stack:null,description:null})),t(!1),l(function(e){return function(){var a=Object(S.a)(k.a.mark((function a(t,n){var r,l;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A("new_product",e,"POST");case 3:return r=a.sent,a.next=6,r.json();case 6:(l=a.sent).success?t(B(l.product)):T.a.fire("Error","Contactar a propietario","error"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e,t){return a.apply(this,arguments)}}()}(u)),d({name:"",description:"",cost:0,stack:0})):h(Object(m.a)(Object(m.a)({},b),{},{description:null,name:null,cost:null,stack:"Stack inv\xe1lido."})):h(Object(m.a)(Object(m.a)({},b),{},{description:null,name:null,stack:null,cost:"Precio inv\xe1lido."})):h(Object(m.a)(Object(m.a)({},b),{},{description:null,cost:null,stack:null,name:"Nombre inv\xe1lido"})):h(Object(m.a)(Object(m.a)({},b),{},{name:null,cost:null,stack:null,description:"Descripci\xf3n inv\xe1lida."}))};return r.a.createElement("div",null,r.a.createElement(me.a,{open:a,onClose:f,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ee.a,{id:"form-dialog-title"},"Update"),r.a.createElement(de.a,null,r.a.createElement(Aa.a,{className:c.root},r.a.createElement(Ia.a,null,r.a.createElement(Ma.a,{className:c.media,image:u.file?u.file:"https://res.cloudinary.com/ricardo191998/image/upload/v1599700603/no_image_kukdun.png",title:"Contemplative Reptile"}),r.a.createElement(Ba.a,null,r.a.createElement(ie.a,{error:!!b.name,label:b.name?b.name:"Nombre",autoFocus:!0,fullWidth:!0,helperText:"Nombre",margin:"dense",id:"name",name:"name",onChange:function(e){v(e.target)}}),r.a.createElement(ie.a,{error:!!b.description,label:b.description?b.description:"Descripci\xf3n",fullWidth:!0,autoFocus:!0,margin:"dense",helperText:"Descripci\xf3n",id:"description",name:"description",onChange:function(e){v(e.target)}}),r.a.createElement(ie.a,{error:!!b.cost,label:b.cost?b.cost:"Precio",fullWidth:!0,autoFocus:!0,margin:"dense",helperText:"Precio",id:"cost",name:"cost",onChange:function(e){v(e.target)}}),r.a.createElement(ie.a,{error:!!b.stack,label:b.stack?b.stack:"Stack",fullWidth:!0,autoFocus:!0,helperText:"Stack",margin:"dense",id:"stack",name:"stack",onChange:function(e){v(e.target)}}),r.a.createElement(Jt.a,{type:"file",helperText:"Imagen",onChange:function(e){!function(e){var a=new FileReader;a.onloadend=function(){var e=a.result;d(Object(m.a)(Object(m.a)({},u),{},{file:e}))},a.readAsDataURL(e[0])}(Object(p.a)(e.target.files))}}))))),r.a.createElement(ue.a,null,r.a.createElement(se.a,{onClick:function(){f()},variant:"contained",color:"secondary",size:"small",className:c.button,startIcon:r.a.createElement(fa.a,null)},"Cancel"),r.a.createElement(se.a,{onClick:function(){O()},variant:"contained",color:"primary",size:"small",className:c.button,startIcon:r.a.createElement(vt.a,null)},"Save"))))}function Qt(e){var a=e.open,t=e.setOpen,l=e.productValue,c=Object(o.b)(),i=qt(),s=Object(n.useState)({}),u=Object(y.a)(s,2),d=u[0],E=u[1],g=Object(n.useState)({name:null,description:null,cost:null,stack:null}),b=Object(y.a)(g,2),h=b[0],f=b[1],v=function(){f(Object(m.a)(Object(m.a)({},h),{},{name:null,cost:null,stack:null,description:null})),t(!1)},O=function(e){E(Object(m.a)(Object(m.a)(Object(m.a)({},l),d),{},Object(C.a)({file:l.image},e.name,e.value)))},j=function(){d.name?0!==d.description.length&&le.test(d.description)?0!==d.name.length&&le.test(d.name)?0!==d.cost&&oe.test(d.cost)?0!==d.stack&&ne.test(d.stack)?(f(Object(m.a)(Object(m.a)({},h),{},{name:null,cost:null,stack:null,description:null})),t(!1),c(function(e){return function(){var a=Object(S.a)(k.a.mark((function a(t){var n,r;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A("edit_product/".concat(e._id),e,"POST");case 3:return n=a.sent,a.next=6,n.json();case 6:(r=a.sent).success?t(M(r.product)):T.a.fire("Error","Contactar a propietario","error"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(d)),E({})):f(Object(m.a)(Object(m.a)({},h),{},{description:null,name:null,cost:null,stack:"Stack inv\xe1lido."})):f(Object(m.a)(Object(m.a)({},h),{},{description:null,name:null,stack:null,cost:"Precio inv\xe1lido."})):f(Object(m.a)(Object(m.a)({},h),{},{description:null,cost:null,stack:null,name:"Nombre inv\xe1lido"})):f(Object(m.a)(Object(m.a)({},h),{},{name:null,cost:null,stack:null,description:"Descripci\xf3n inv\xe1lida."})):v()};return r.a.createElement("div",null,r.a.createElement(me.a,{open:a,onClose:v,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ee.a,{id:"form-dialog-title"},"Update"),r.a.createElement(de.a,null,r.a.createElement(Aa.a,{className:i.root},r.a.createElement(Ia.a,null,r.a.createElement(Ma.a,{className:i.media,image:d.file?d.file:l.image,title:"Contemplative Reptile"}),r.a.createElement(Ba.a,null,r.a.createElement(ie.a,{error:!!h.name,label:h.name?h.name:"Nombre",autoFocus:!0,fullWidth:!0,helperText:"Nombre",margin:"dense",id:"name",name:"name",onChange:function(e){O(e.target)},defaultValue:l.name}),r.a.createElement(ie.a,{error:!!h.description,label:h.description?h.description:"Descripci\xf3n",fullWidth:!0,autoFocus:!0,margin:"dense",helperText:"Descripci\xf3n",id:"description",name:"description",onChange:function(e){O(e.target)},defaultValue:l.description}),r.a.createElement(ie.a,{error:!!h.cost,label:h.cost?h.cost:"Precio",fullWidth:!0,autoFocus:!0,margin:"dense",helperText:"Precio",id:"cost",name:"cost",onChange:function(e){O(e.target)},defaultValue:l.cost}),r.a.createElement(ie.a,{error:!!h.stack,label:h.stack?h.stack:"Stack",fullWidth:!0,autoFocus:!0,helperText:"Stack",margin:"dense",id:"stack",name:"stack",onChange:function(e){O(e.target)},defaultValue:l.stack}),r.a.createElement(Jt.a,{type:"file",helperText:"Imagen",onChange:function(e){!function(e){var a=new FileReader;a.onloadend=function(){var e=a.result;E(Object(m.a)(Object(m.a)({},l),{},{file:e}))},a.readAsDataURL(e[0])}(Object(p.a)(e.target.files))}}))))),r.a.createElement(ue.a,null,r.a.createElement(se.a,{onClick:function(){v()},variant:"contained",color:"secondary",size:"small",className:i.button,startIcon:r.a.createElement(fa.a,null)},"Cancel"),r.a.createElement(se.a,{onClick:function(){j()},variant:"contained",color:"primary",size:"small",className:i.button,startIcon:r.a.createElement(vt.a,null)},"Save"))))}var en=Object(Ne.a)((function(e){return{root:{maxWidth:345,flexGrow:1},media:{height:250},button:{margin:e.spacing(1)},text:{marginBottom:20}}})),an=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.products})).products,t=en(),l=r.a.useState(!1),c=Object(y.a)(l,2),i=c[0],s=c[1],m=r.a.useState(!1),d=Object(y.a)(m,2),p=d[0],E=d[1],g=r.a.useState({}),b=Object(y.a)(g,2),h=b[0],f=b[1],v=function(e,a){"UPDATE"===e?(f({name:a.name,_id:a._id,description:a.description,image:a.image,cost:a.cost,stack:a.stack}),s(!0)):E(!0)},O=function(a){e(function(e){return{type:u.productSetActive,payload:e}}(a)),e(function(){var e=Object(S.a)(k.a.mark((function e(a,t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t().products.activeProduct._id,e.prev=1,e.next=4,A("product/".concat(n),{},"DELETE");case 4:return r=e.sent,e.next=7,r.json();case 7:e.sent.success?a(U()):T.a.fire("Error","Contactar a propietario","error"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a,t){return e.apply(this,arguments)}}())};return Object(n.useEffect)((function(){e(z())}),[e]),r.a.createElement("div",null,r.a.createElement($t.a,{onClick:function(){v("CREATE")},color:"primary","aria-label":"add"},r.a.createElement(Zt.a,null)),r.a.createElement(La.a,{item:!0,xs:12},r.a.createElement(La.a,{container:!0,justify:"center",spacing:2},a.map((function(e){return r.a.createElement(La.a,{key:e._id,item:!0},r.a.createElement(Aa.a,{className:t.root},r.a.createElement(Ia.a,null,r.a.createElement(Ma.a,{className:t.media,image:e.image,title:"Contemplative Reptile"}),r.a.createElement(Ba.a,null,r.a.createElement(Ce.a,{gutterBottom:!0,className:t.text,variant:"h5",component:"h2"},e.name),r.a.createElement(Ce.a,{variant:"body2",className:t.text,color:"textSecondary",component:"p"},e.description),r.a.createElement(Ce.a,{variant:"body2",className:t.text,color:"textPrimary",component:"p"},"PRECIO: $ ",e.cost," MXN"),r.a.createElement(Ce.a,{variant:"body2",color:"textPrimary",component:"p"},"STACK : ",e.stack))),r.a.createElement(Ta.a,null,r.a.createElement(se.a,{variant:"contained",color:"primary",onClick:function(){v("UPDATE",e)},className:t.button,endIcon:r.a.createElement(Xt.a,null)},"Update"),r.a.createElement(se.a,{onClick:function(){O(e)},variant:"contained",color:"secondary",className:t.button,startIcon:r.a.createElement(Gt.a,null)},"Delete"))))})))),r.a.createElement(Qt,{open:i,setOpen:s,productValue:h}),r.a.createElement(Kt,{open:p,setOpen:E}))},tn=t(307),nn=t(119),rn=t.n(nn),ln=t(299),cn=function(e){return{type:u.purchaseUpdated,payload:e}},on=function(e){return{type:u.purchaseLoaded,payload:e}},sn=r.a.forwardRef((function(e,a){return r.a.createElement(ja.a,Object.assign({direction:"up",ref:a},e))}));function mn(e){var a=e.open,t=e.setOpen,n=Object(o.b)(),l=function(){n(function(){var e=Object(S.a)(k.a.mark((function e(a,t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t().purchases.activePurchase._id,e.prev=1,e.next=4,A("edit_purchase/".concat(n));case 4:return r=e.sent,e.next=7,r.json();case 7:e.sent.success?a(cn(n)):T.a.fire("Error","Falla en el server","error"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a,t){return e.apply(this,arguments)}}()),t(!1)};return r.a.createElement("div",null,r.a.createElement(me.a,{open:a,TransitionComponent:sn,keepMounted:!0,onClose:l,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(Ee.a,{id:"alert-dialog-slide-title"},"Desea marcar compra como entregada"),r.a.createElement(de.a,null,r.a.createElement(pe.a,{id:"alert-dialog-slide-description"},"De ser asi ya no podr\xe1 volver a desenmarcarla.")),r.a.createElement(ue.a,null,r.a.createElement(se.a,{onClick:function(){t(!1)},color:"primary"},"Cancelar"),r.a.createElement(se.a,{onClick:l,color:"primary"},"Aceptar"))))}var un=Object(Ne.a)({root:{"& > *":{borderBottom:"unset"}}}),dn=function(){var e=Object(o.b)(),a=Object(n.useState)(!0),t=Object(y.a)(a,2),l=t[0],c=t[1],i=Object(n.useState)(""),s=Object(y.a)(i,2),m=s[0],u=s[1],d=Object(o.c)((function(e){return e.purchases})).purchases;Object(n.useEffect)((function(){e(function(){var e=Object(S.a)(k.a.mark((function e(a){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A("purchase");case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).success?a(on(n.purchases)):(a(on([])),a(ee())),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a){return e.apply(this,arguments)}}())}),[e]);var p=function(){c(!l)};if(m.length>0){var E=new RegExp(m,"i");d=l?d.filter((function(e){return null!=e._id.match(E)&&0===e._id.match(E).index&&e})):d.filter((function(e){return null!=e.email.match(E)&&0===e.email.match(E).index}))}return r.a.createElement("div",null,r.a.createElement("div",{className:"mb-5 d-flex justify-content-end"},r.a.createElement("h5",{className:"mr-3 mt-2"},"Buscar por: "),r.a.createElement(se.a,{className:"mr-2",variant:"contained",onClick:function(){p()},color:"primary",disabled:l},"ID"),r.a.createElement(se.a,{className:"mr-3",variant:"contained",onClick:function(){p()},color:"secondary",disabled:!l},"Email"),r.a.createElement(ie.a,{className:"mr-2",id:"outlined-secondary",label:"Buscar",variant:"outlined",color:"primary",onChange:function(e){!function(e){u(e.target.value)}(e)},value:m,InputProps:{endAdornment:r.a.createElement(ln.a,{position:"end"},r.a.createElement(Fe.a,{"aria-label":"toggle password visibility",edge:"end"},r.a.createElement(rn.a,null)))}})),r.a.createElement(En,{purchases:d}))};function pn(e){var a=e.row,t=e.handleChange,n=un(),l=r.a.useState(!1),c=Object(y.a)(l,2),o=c[0],i=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(sa.a,{key:a.id+"user",className:n.root},r.a.createElement(ca.a,null,r.a.createElement(Fe.a,{"aria-label":"expand row",size:"small",onClick:function(){return i(!o)}},o?r.a.createElement(dt.a,null):r.a.createElement(mt.a,null))),r.a.createElement(ca.a,{component:"th",scope:"row"},a._id),r.a.createElement(ca.a,{component:"th",scope:"row"},a.email),r.a.createElement(ca.a,{align:"right"},a.name),r.a.createElement(ca.a,{align:"right"},a.date_operation),r.a.createElement(ca.a,{align:"right"},a.hour_operation),r.a.createElement(ca.a,{align:"right"},"true"===a.is_pay?r.a.createElement(Et.a,null):r.a.createElement(fa.a,null)),r.a.createElement(ca.a,{align:"right"},"true"===a.status?r.a.createElement(Et.a,null):r.a.createElement(tn.a,{checked:!1,onChange:function(){t(a)},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}}))),r.a.createElement(sa.a,{key:a.id+"product"},r.a.createElement(ca.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},r.a.createElement(it.a,{in:o,timeout:"auto",unmountOnExit:!0},r.a.createElement(ot.a,{margin:1},r.a.createElement(Ce.a,{variant:"h6",gutterBottom:!0,component:"div"},"Products"),r.a.createElement(ra.a,{size:"small","aria-label":"purchases"},r.a.createElement(ia.a,null,r.a.createElement(sa.a,null,r.a.createElement(ca.a,null,"Nombre"),r.a.createElement(ca.a,null,"Cantidad"),r.a.createElement(ca.a,{align:"right"},"Precio (MXN)"),r.a.createElement(ca.a,{align:"right"},"Precio Total (MXN)"))),r.a.createElement(la.a,null,a.products.map((function(e){return r.a.createElement(sa.a,{key:e.name+"product"},r.a.createElement(ca.a,{component:"th",scope:"row"},e.name),r.a.createElement(ca.a,{component:"th",scope:"row"},e.amount),r.a.createElement(ca.a,{scope:"row",align:"right"},e.cost),r.a.createElement(ca.a,{align:"right"},e.cost*e.amount))})))))))))}function En(e){var a=Object(o.b)(),t=e.purchases,n=r.a.useState(!1),l=Object(y.a)(n,2),c=l[0],i=l[1],s=r.a.useState(!1),m=Object(y.a)(s,2),d=m[0],p=m[1],E=function(e){p(!0),a(function(e){return{type:u.purchaseSetActive,payload:e}}(e))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(oa.a,{component:ma.a},r.a.createElement(ra.a,{"aria-label":"collapsible table"},r.a.createElement(ia.a,null,r.a.createElement(sa.a,null,r.a.createElement(ca.a,null),r.a.createElement(ca.a,{align:"left"},"ID COMPRA"),r.a.createElement(ca.a,{align:"left"},"Email"),r.a.createElement(ca.a,{align:"right"},"Nombre"),r.a.createElement(ca.a,{align:"right"},"Fecha"),r.a.createElement(ca.a,{align:"right"},"Hora"),r.a.createElement(ca.a,{align:"right"},"Pagado"),r.a.createElement(ca.a,{align:"right"},"Entregado"))),r.a.createElement(la.a,null,t.map((function(e){return r.a.createElement(pn,{open:c,setOpen:i,handleChange:E,key:e._id+"row",row:e})}))))),r.a.createElement(mn,{open:d,setOpen:p}))}var gn=t(300),bn=t(174),hn=t.n(bn),fn=Object(Ne.a)({root:{width:"100%"},container:{maxHeight:440,marginTop:10},icon:{margin:5}}),vn=Object(Ne.a)((function(e){return{root:{maxWidth:345,flexGrow:1,height:350},button:{margin:e.spacing(1)},input_space:{marginTop:50,marginBottom:50},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}})),On=function(e){return{type:u.userAddNew,payload:e}},jn=function(e,a){return function(){var t=Object(S.a)(k.a.mark((function t(n){var r,l;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("CLIENT"!==a){t.next=6;break}return t.next=3,A("update_user/".concat(e._id),e,"POST");case 3:r=t.sent,t.next=9;break;case 6:return t.next=8,A("update_admin/".concat(e._id),e,"POST");case 8:r=t.sent;case 9:return t.next=11,r.json();case 11:(l=t.sent).success?(n(wn()),T.a.fire("Bien","El usuario se a actualizado.","success")):T.a.fire("Error",l.message,"error");case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Nn=function(){return{type:u.userDeleted}},wn=function(){return function(){var e=Object(S.a)(k.a.mark((function e(a){var t,n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A("users",{},"GET");case 3:return t=e.sent,e.next=6,t.json();case 6:(n=e.sent).success?(r=n.users,a(yn(r))):(a(yn([])),a(ee())),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a){return e.apply(this,arguments)}}()},yn=function(e){return{type:u.userLoaded,payload:e}};function Cn(e){var a=e.open,t=e.setOpen,l=Object(o.b)(),c=vn(),i=Object(n.useState)({rName:null,rLastName:null,rEmail:null,rPassword1:null,rPassword2:null,rCode:null}),s=Object(y.a)(i,2),u=s[0],d=s[1],p=x({rName:"",rLastName:"",rEmail:"",rPassword1:"",rPassword2:"",rCode:""}),E=Object(y.a)(p,2),g=E[0],b=E[1],h=g.rName,f=g.rEmail,v=g.rPassword1,O=g.rPassword2,j=g.rLastName,N=g.rCode,w=function(){var e;0!==f.length&&ce.test(f)?0!==h.length&&re.test(h)?0!==j.length&&re.test(j)?v===O?v.length<=5?d(Object(m.a)(Object(m.a)({},u),{},{rName:null,rLastName:null,rPassword2:null,rCode:null,rEmail:null,rPassword1:"M\xednimo 6 caracteres"})):O.length<=5?d(Object(m.a)(Object(m.a)({},u),{},{rName:null,rLastName:null,rPassword1:null,rCode:null,rEmail:null,rPassword2:"M\xednimo 6 caracteres."})):N.length<=4?d(Object(m.a)(Object(m.a)({},u),{},{rName:null,rLastName:null,rPassword1:null,rPassword2:null,rEmail:null,rCode:"M\xednimo 5 caracteres."})):(d({rName:null,rLastName:null,rEmail:null,rPassword1:null,rPassword2:null,rCode:null}),t(!1),l((e={email:f,password:v,name:h,lastname:j,code:N},function(){var a=Object(S.a)(k.a.mark((function a(t,n){var r,l;return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A("create_admin",e,"POST");case 3:return r=a.sent,a.next=6,r.json();case 6:(l=a.sent).success?t(On(Object(m.a)(Object(m.a)({},e),{},{_id:l.user._id,invitation_code:l.user.code}))):T.a.fire("Error","Contactar al propietario","error"),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e,t){return a.apply(this,arguments)}}()))):d(Object(m.a)(Object(m.a)({},u),{},{rName:null,rLastName:null,rCode:null,rEmail:null,rPassword1:"Las contrase\xf1as deben ser iguales",rPassword2:"Las contrase\xf1as deben ser iguales"})):d(Object(m.a)(Object(m.a)({},u),{},{rName:null,rPassword1:null,rPassword2:null,rCode:null,rEmail:null,rLastName:"Apellido inv\xe1lido."})):d(Object(m.a)(Object(m.a)({},u),{},{rLastName:null,rPassword1:null,rPassword2:null,rCode:null,rEmail:null,rName:"Nombre inv\xe1lido."})):d(Object(m.a)(Object(m.a)({},u),{},{rName:null,rLastName:null,rPassword1:null,rPassword2:null,rCode:null,rEmail:"Correo Invalido"}))},C=function(){t(!1)};return r.a.createElement("div",null,r.a.createElement(me.a,{open:a,onClose:C,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ee.a,{id:"form-dialog-title"},"Crear Usuario Admin"),r.a.createElement(de.a,null,r.a.createElement(Aa.a,{className:c.root},r.a.createElement(Ia.a,null,r.a.createElement(Ba.a,null,r.a.createElement(ie.a,{error:!!u.rName,label:u.rName?u.rName:"Nombre",fullWidth:!0,type:"text",className:"input_space",placeholder:"Nombre",margin:"dense",id:"name",name:"rName",variant:"outlined",value:h,onChange:b}),r.a.createElement(ie.a,{error:!!u.rLastName,label:u.rLastName?u.rLastName:"Apellido",fullWidth:!0,type:"text",margin:"dense",className:"input_space",placeholder:"Apellidos",name:"rLastName",variant:"outlined",value:j,onChange:b}),r.a.createElement(ie.a,{error:!!u.rEmail,label:u.rEmail?u.rEmail:"Correo.",fullWidth:!0,type:"email",margin:"dense",className:"input_space",placeholder:"Correo",name:"rEmail",variant:"outlined",value:f,onChange:b}),r.a.createElement(ie.a,{error:!!u.rPassword1,label:u.rPassword1?u.rPassword1:"Contrase\xf1a",fullWidth:!0,type:"password",margin:"dense",className:"input_space",placeholder:"Contrase\xf1a",name:"rPassword1",value:v,variant:"outlined",onChange:b}),r.a.createElement(ie.a,{error:!!u.rPassword2,label:u.rPassword2?u.rPassword2:"Confirmar contrase\xf1a",fullWidth:!0,type:"password",margin:"dense",className:"input_space",placeholder:"Contrase\xf1a",name:"rPassword2",variant:"outlined",value:O,onChange:b}),r.a.createElement(ie.a,{error:!!u.rCode,label:u.rCode?u.rCode:"C\xf3digo Embajador",fullWidth:!0,margin:"dense",type:"text",className:"input_space",placeholder:"C\xf3digo embajador",name:"rCode",variant:"outlined",value:N,onChange:b}))))),r.a.createElement(ue.a,null,r.a.createElement(se.a,{onClick:function(){C()},variant:"contained",color:"secondary",size:"small",className:c.button,startIcon:r.a.createElement(fa.a,null)},"Cancel"),r.a.createElement(se.a,{onClick:function(){w()},variant:"contained",color:"primary",size:"small",className:c.button,startIcon:r.a.createElement(vt.a,null)},"Save"))))}function xn(e){var a=e.open,t=e.setOpen,l=e.setUser,c=e.user,i=Object(o.b)(),s=c.name,u=c.email,d=c.lastname,p=c.type_user,E=c._id,g=vn(),b=Object(n.useState)({rName:null,rLastName:null,rEmail:null}),h=Object(y.a)(b,2),f=h[0],v=h[1],O=Object(n.useState)({rPassword1:null,rPassword2:null}),j=Object(y.a)(O,2),N=j[0],w=j[1],C=x({rName:s,rLastName:d,rEmail:u,rPassword1:"",rPassword2:""}),P=Object(y.a)(C,2),k=P[0],S=P[1],_=k.rName,L=k.rEmail,A=k.rPassword1,I=k.rPassword2,T=k.rLastName,B=function(){v({rName:null,rLastName:null,rEmail:null}),w({rPassword1:null,rPassword2:null}),t(!1),l({})};return r.a.createElement("div",null,r.a.createElement(me.a,{open:a,onClose:B,"aria-labelledby":"form-dialog-title"},r.a.createElement(Ee.a,{id:"form-dialog-title"},"Edita Usuario"),r.a.createElement(de.a,null,r.a.createElement(Aa.a,{className:g.root},r.a.createElement(Ia.a,null,r.a.createElement(Ba.a,null,r.a.createElement(Ce.a,{className:g.title,color:"textSecondary",gutterBottom:!0},"Edita USuario"),r.a.createElement(ie.a,{error:!!f.rName,label:f.rName?f.rName:"Nombre",fullWidth:!0,type:"text",className:"input_space",placeholder:"Nombre",margin:"dense",id:"name",name:"rName",variant:"outlined",value:_,onChange:S}),r.a.createElement(ie.a,{error:!!f.rLastName,label:f.rLastName?f.rLastName:"Apellido",fullWidth:!0,type:"text",margin:"dense",className:"input_space",placeholder:"Apellidos",name:"rLastName",variant:"outlined",value:T,onChange:S}),r.a.createElement(ie.a,{error:!!f.rEmail,label:f.rEmail?f.rEmail:"Correo",fullWidth:!0,type:"email",margin:"dense",className:"input_space",placeholder:"Correo",name:"rEmail",variant:"outlined",value:L,onChange:S}))),r.a.createElement(Ta.a,null,r.a.createElement(se.a,{onClick:function(){0!==L.length&&ce.test(L)?0!==_.length&&re.test(_)?0!==T.length&&re.test(T)?(t(!1),v({rName:null,rLastName:null,rEmail:null}),l({}),i(jn(L===u?{name:_,lastname:T,_id:E}:{email:L,name:_,lastname:T,_id:E},p))):v(Object(m.a)(Object(m.a)({},f),{},{rName:null,rEmail:null,rLastName:"Apellido inv\xe1lido."})):v(Object(m.a)(Object(m.a)({},f),{},{rLastName:null,rEmail:null,rName:"Nombre inv\xe1lido."})):v(Object(m.a)(Object(m.a)({},f),{},{rName:null,rLastName:null,rEmail:"Correo Invalido"}))},variant:"contained",color:"primary",size:"small",className:g.button,startIcon:r.a.createElement(vt.a,null)},"Save"))),r.a.createElement(Aa.a,{className:g.root},r.a.createElement(Ia.a,null,r.a.createElement(Ba.a,null,r.a.createElement(Ce.a,{className:g.title,color:"textSecondary",gutterBottom:!0},"Cambiar contrase\xf1a"),r.a.createElement(ie.a,{error:!!N.rPassword1,label:N.rPassword1?N.rPassword1:"Contrase\xf1a",fullWidth:!0,type:"password",margin:"dense",className:"input_space",placeholder:"Contrase\xf1a",name:"rPassword1",value:A,variant:"outlined",onChange:S}),r.a.createElement(ie.a,{error:!!N.rPassword2,label:N.rPassword2?N.rPassword2:"Contrase\xf1a",fullWidth:!0,type:"password",margin:"dense",className:"input_space",placeholder:"Confirma Contrase\xf1a",name:"rPassword2",variant:"outlined",value:I,onChange:S}))),r.a.createElement(Ta.a,null,r.a.createElement(se.a,{onClick:function(){A===I?A.length<=5?w(Object(m.a)(Object(m.a)({},N),{},{rPassword2:null,rPassword1:"M\xednimo 6 caracteres"})):I.length<=5?w(Object(m.a)(Object(m.a)({},N),{},{rPassword1:null,rPassword2:"M\xednimo 6 caracteres."})):(w({rPassword1:null,rPassword2:null}),t(!1),l({}),i(jn({email:L,password:A,name:_,lastname:T,_id:E},p))):w(Object(m.a)(Object(m.a)({},N),{},{rPassword1:"Las contrase\xf1as deben ser iguales",rPassword2:"Las contrase\xf1as deben ser iguales"}))},variant:"contained",color:"primary",size:"small",className:g.button,startIcon:r.a.createElement(vt.a,null)},"Cambia contrase\xf1a")))),r.a.createElement(ue.a,null,r.a.createElement(se.a,{onClick:function(){B()},variant:"contained",color:"secondary",size:"small",className:g.button,startIcon:r.a.createElement(fa.a,null)},"Cancel"))))}var Pn=r.a.forwardRef((function(e,a){return r.a.createElement(ja.a,Object.assign({direction:"up",ref:a},e))}));function kn(e){var a=e.open,t=e.setOpen,n=Object(o.b)(),l=function(){t(!1)};return r.a.createElement("div",null,r.a.createElement(me.a,{open:a,TransitionComponent:Pn,keepMounted:!0,onClose:l,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(Ee.a,{id:"alert-dialog-slide-title"},"Estas seguro que desea eliminar al usuario?"),r.a.createElement(ue.a,null,r.a.createElement(se.a,{onClick:l,color:"primary"},"Cerrar"),r.a.createElement(se.a,{onClick:function(e){n(function(){var e=Object(S.a)(k.a.mark((function e(a,t){var n,r;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t().users.activeUser._id,e.prev=1,e.next=4,A("user/".concat(n),{},"DELETE");case 4:return r=e.sent,e.next=7,r.json();case 7:e.sent.success?a(Nn()):T.a.fire("Error","Contactar al propietario.","error"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a,t){return e.apply(this,arguments)}}()),t(!1)},color:"primary"},"Eliminar"))))}var Sn=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.users})).users,t=Object(n.useState)(!0),l=Object(y.a)(t,2),c=l[0],i=l[1],s=Object(n.useState)(""),m=Object(y.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(!1),E=Object(y.a)(p,2),g=E[0],b=E[1];Object(n.useEffect)((function(){e(wn())}),[e]);var h=function(){i(!c)};if(u.length>0){var f=new RegExp(u,"i");a=c?a.filter((function(e){return null!=e.invitation_code.match(f)&&0===e.invitation_code.match(f).index&&e})):a.filter((function(e){return null!=e.email.match(f)&&0===e.email.match(f).index}))}return r.a.createElement("div",null,r.a.createElement($t.a,{onClick:function(){b(!0)},color:"primary","aria-label":"add"},r.a.createElement(Zt.a,null)),r.a.createElement("div",{className:"mb-5 d-flex justify-content-end"},r.a.createElement("h5",{className:"mr-3 mt-2"},"Buscar por: "),r.a.createElement(se.a,{className:"mr-2",variant:"contained",onClick:function(){h()},color:"primary",disabled:c},"C\xf3digo embajador"),r.a.createElement(se.a,{className:"mr-3",variant:"contained",onClick:function(){h()},color:"secondary",disabled:!c},"Email"),r.a.createElement(ie.a,{className:"mr-2",id:"outlined-secondary",label:"Buscar",variant:"outlined",color:"primary",onChange:function(e){!function(e){d(e.target.value)}(e)},value:u,InputProps:{endAdornment:r.a.createElement(ln.a,{position:"end"},r.a.createElement(Fe.a,{"aria-label":"toggle password visibility",edge:"end"},r.a.createElement(rn.a,null)))}})),"undefined"!=typeof a?r.a.createElement(Ln,{users:a}):r.a.createElement(gn.a,{className:"mt-5"}),r.a.createElement(Cn,{open:g,setOpen:b}))};function _n(e){var a=e.row,t=e.setOpenModal,n=e.setUser,l=Object(o.b)(),c=Object(w.g)(),i=fn(),s=r.a.useState(!1),m=Object(y.a)(s,2),d=m[0],p=m[1],E=r.a.useState(!1),g=Object(y.a)(E,2),b=g[0],h=g[1],f=function(e){l(function(e){return{type:u.userSetActive,payload:e}}(e)),h(!0)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(sa.a,{className:i.root},r.a.createElement(ca.a,null,r.a.createElement(Fe.a,{"aria-label":"expand row",size:"small",onClick:function(){return p(!d)}},d?r.a.createElement(dt.a,null):r.a.createElement(mt.a,null))),r.a.createElement(ca.a,{component:"th",scope:"row"},a.name),r.a.createElement(ca.a,{component:"th",scope:"row"},a.lastname),r.a.createElement(ca.a,{align:"right"},a.email),r.a.createElement(ca.a,{align:"right"},a.invitation_code),r.a.createElement(ca.a,{align:"right"},a.type_user),r.a.createElement(ca.a,{align:"right",key:a._id},r.a.createElement(se.a,{onClick:function(){var e;e=a._id,localStorage.setItem("user_client_id",e),c.push("/admin/user_detail")}},r.a.createElement(hn.a,null)),r.a.createElement($t.a,{onClick:function(){n(a),t(!0)},className:i.icon,color:"primary","aria-label":"edit"},r.a.createElement(Za.a,null)),r.a.createElement($t.a,{onClick:function(){f(a)},className:i.icon,color:"secondary","aria-label":"delete"},r.a.createElement(Gt.a,null)))),r.a.createElement(sa.a,null,r.a.createElement(ca.a,{style:{paddingBottom:0,paddingTop:0},colSpan:6},r.a.createElement(it.a,{in:d,timeout:"auto",unmountOnExit:!0},r.a.createElement(ot.a,{margin:1},r.a.createElement(Ce.a,{variant:"h6",gutterBottom:!0,component:"div"},"Invit\xf3"),r.a.createElement(ra.a,{size:"small","aria-label":"purchases"},r.a.createElement(ia.a,null,r.a.createElement(sa.a,null,r.a.createElement(ca.a,null,"Nombre"),r.a.createElement(ca.a,null,"Email"),r.a.createElement(ca.a,{align:"right"},"C\xf3digo Embajador"),r.a.createElement(ca.a,{align:"right"},"Rol"))),r.a.createElement(la.a,null,r.a.createElement(sa.a,{key:"iv"+a.user_invite.name},r.a.createElement(ca.a,{component:"th",scope:"row"},a.user_invite.name),r.a.createElement(ca.a,{component:"th",scope:"row"},a.user_invite.email),r.a.createElement(ca.a,{scope:"row",align:"right"},a.user_invite.invitation_code),r.a.createElement(ca.a,{align:"right"},a.user_invite.type_user))))),r.a.createElement(ot.a,{margin:2},r.a.createElement(Ce.a,{variant:"h6",gutterBottom:!0,component:"div"},"Inivitados"),r.a.createElement(ra.a,{size:"small","aria-label":"purchases"},r.a.createElement(ia.a,null,r.a.createElement(sa.a,null,r.a.createElement(ca.a,null,"Nombre"),r.a.createElement(ca.a,null,"Email"),r.a.createElement(ca.a,{align:"right"},"C\xf3digo Embajador"),r.a.createElement(ca.a,{align:"right"},"Rol"))),r.a.createElement(la.a,null,a.invite_users.map((function(e){return r.a.createElement(sa.a,{key:e.name},r.a.createElement(ca.a,{component:"th",scope:"row"},e.name),r.a.createElement(ca.a,{component:"th",scope:"row"},e.email),r.a.createElement(ca.a,{scope:"row",align:"right"},e.invitation_code),r.a.createElement(ca.a,{align:"right"},e.type_user))})))))))),r.a.createElement(kn,{open:b,setOpen:h}))}function Ln(e){var a=e.users,t=r.a.useState(!1),l=Object(y.a)(t,2),c=l[0],o=l[1],i=r.a.useState(!1),s=Object(y.a)(i,2),m=s[0],u=s[1],d=Object(n.useState)({}),p=Object(y.a)(d,2),E=p[0],g=p[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(oa.a,{component:ma.a},r.a.createElement(ra.a,{"aria-label":"collapsible table"},r.a.createElement(ia.a,null,r.a.createElement(sa.a,null,r.a.createElement(ca.a,null),r.a.createElement(ca.a,{align:"left"},"Nombre"),r.a.createElement(ca.a,{align:"left"},"Apellido"),r.a.createElement(ca.a,{align:"right"},"Email"),r.a.createElement(ca.a,{align:"right"},"C\xf3digo Embajador"),r.a.createElement(ca.a,{align:"right"},"Rol"),r.a.createElement(ca.a,{align:"right"},"Acciones"))),r.a.createElement(la.a,null,a.map((function(e){return r.a.createElement(_n,{open:c,setOpen:o,key:e._id,row:e,setOpenModal:u,setUser:g})}))))),E.name?r.a.createElement(xn,{open:m,setOpen:u,setUser:g,user:E}):r.a.createElement(Re.a,null))}var An=Object(Ne.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:240},title:{flexGrow:1},hide:{display:"none"},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerHeader:Object(m.a)(Object(m.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-start"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginRight:-240},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginRight:0}}})),In=Object(Ne.a)((function(e){return{root:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12},orange:{color:e.palette.getContrastText(jt.a[500]),backgroundColor:jt.a[500],width:e.spacing(10),height:e.spacing(10)},paper:{padding:e.spacing(2),margin:"auto",maxWidth:500},image:{width:128,height:128},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"},large:{width:e.spacing(7),height:e.spacing(7)},menuButton:{marginTop:15,fontSize:100,marginInlineEnd:0,marginLeft:201},appBar:{marginTop:10,marginBottom:20,height:150}}})),Tn=function(){var e=Object(o.b)(),a=In(),t=0,n=!1,l=Object(o.c)((function(e){return e.client})).user_info,c=Object(o.c)((function(e){return e.client})).gain_info;at.a.locale("es");var i=localStorage.getItem("user_client_id");if(null!=l&&i===l._id||e(V(i)),null==c&&e(Z(i)),null!=l){var s=at()().format("YYYY"),m=at()().format("MM"),u=(m-1).toString();1===m.length&&(m="0".concat(m)),1===u.length&&(u="0".concat(u)),l.gain.length>0&&0===t&&l.gain.map((function(e){return e.date_operation>"".concat(s).concat(u,"26")&&e.date_operation<="".concat(s).concat(m,"26")&&(t+=e.amount),0}));for(var d=0;d<l.purchases.length;d++)if(at()(l.purchases[d].createdAt).format("YYYYMMDD")>"".concat(s).concat(u,"26")&&at()(l.purchases[d].createdAt).format("YYYYMMDD")<="".concat(s).concat(m,"26")&&"true"===l.purchases[d].is_pay){n=!0;break}t=parseFloat(t).toFixed(2)}return null==l||null==c?r.a.createElement("div",null,r.a.createElement(Ha.a,null)):r.a.createElement("div",null,r.a.createElement(ma.a,{className:a.paper},r.a.createElement(La.a,{container:!0,spacing:2},r.a.createElement(La.a,{item:!0},r.a.createElement($a.a,{className:a.image},r.a.createElement(Xa.a,{className:a.orange},l.name[0].toUpperCase()))),r.a.createElement(La.a,{item:!0,xs:12,sm:!0,container:!0},r.a.createElement(La.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2},r.a.createElement(La.a,{item:!0,xs:!0},r.a.createElement(Ce.a,{gutterBottom:!0,variant:"subtitle1"},l.name+" "+l.lastname),r.a.createElement(Ce.a,{variant:"body2",gutterBottom:!0},l.email)))))),n?r.a.createElement("div",{class:"p-3 mb-2 bg-danger text-white"},"El usuario no ha comprado en el ultimo mes!"):r.a.createElement("br",null),r.a.createElement(we.a,{position:"static",className:a.appBar,style:{display:"flex",alignItems:"center"}},r.a.createElement(ye.a,{variant:"dense"},r.a.createElement(qa.a,{edge:"start",className:"mt-3 mr-5",style:{fontSize:40}}),r.a.createElement("div",{className:"mr-5 ml-5 mt-4"},r.a.createElement(Ce.a,{variant:"h3",color:"inherit"},"Ganancias"),r.a.createElement(Ce.a,{className:"ml-5 mb-3",variant:"h6",color:"inherit"},at()().format("MMMM YYYY"))),r.a.createElement(Ce.a,{variant:"h3",className:"mr-5 ml-4 mt-3",color:"inherit"},"$",t))),l.purchases.length<=0?r.a.createElement("div",{className:"alert alert-dark mt-1",role:"alert"},"A\xfan no haces ninguna compra!"):r.a.createElement(xt,{gain:c}),l.purchases.length<=0?r.a.createElement("div",{className:"alert alert-dark mt-1",role:"alert"},"A\xfan no haces ninguna compra!"):r.a.createElement(gt,{purchases:l.purchases}),l.invite_users.length<=0?r.a.createElement("div",{className:"alert alert-dark mt-5",role:"alert"},"A\xfan no invitas a ning\xfan usuario!"):r.a.createElement(rt,{users:l.invite_users}))};function Bn(){var e=An(),a=Object(ta.a)(),t=r.a.useState(!1),n=Object(y.a)(t,2),l=n[0],c=n[1],i=Object(o.b)(),s=[{text:"Inicio",component:r.a.createElement(Tt.a,null),url:"/admin"},{text:"Usuarios",component:r.a.createElement(Tt.a,null),url:"/admin/users"},{text:"Productos",component:r.a.createElement(Qe.a,null),url:"/admin/products"},{text:"Compras",component:r.a.createElement(Mt.a,null),url:"/admin/purchases"}];return r.a.createElement("div",{className:e.root},r.a.createElement(De.a,null),r.a.createElement(we.a,{position:"fixed",className:Object(Ue.a)(e.appBar,Object(C.a)({},e.appBarShift,l))},r.a.createElement(ye.a,null,r.a.createElement(Ce.a,{variant:"h6",noWrap:!0,className:e.title},"Game Up"),r.a.createElement(Fe.a,{color:"inherit","aria-label":"open drawer",edge:"end",onClick:function(){c(!0)},className:Object(Ue.a)(l&&e.hide)},r.a.createElement(Ge.a,null)))),r.a.createElement("main",{className:Object(Ue.a)(e.content,Object(C.a)({},e.contentShift,l))},r.a.createElement("div",{className:e.drawerHeader}),r.a.createElement(w.d,null,r.a.createElement(w.b,{path:"/admin/home",component:Ft}),r.a.createElement(w.b,{path:"/admin/products",component:an}),r.a.createElement(w.b,{path:"/admin/purchases",component:dn}),r.a.createElement(w.b,{path:"/admin/users",component:Sn}),r.a.createElement(w.b,{path:"/admin/user_detail",component:Tn}),r.a.createElement(w.a,{to:"/admin/home"}))),r.a.createElement(ze.a,{className:e.drawer,variant:"persistent",anchor:"right",open:l,classes:{paper:e.drawerPaper}},r.a.createElement("div",{className:e.drawerHeader},r.a.createElement(Fe.a,{onClick:function(){c(!1)}},"rtl"===a.direction?r.a.createElement(Xe.a,null):r.a.createElement(Ve.a,null))),r.a.createElement(Re.a,null),r.a.createElement(We.a,null,s.map((function(e,a){return r.a.createElement(N.b,{key:"sl"+e.text,to:e.url},r.a.createElement(Ze.a,{button:!0,key:e.text},r.a.createElement(Je.a,null,e.component),r.a.createElement(qe.a,{primary:e.text})))}))),r.a.createElement(Re.a,null),r.a.createElement(We.a,null,r.a.createElement(Ze.a,{onClick:function(){i(ee())},button:!0,key:"logout"},r.a.createElement(Je.a,null,r.a.createElement(zt.a,null)),r.a.createElement(qe.a,{primary:"logout"})))))}var Mn=function(){var e=Object(o.b)(),a=Object(o.c)((function(e){return e.auth})),t=a.checking,l=a.uid;return Object(n.useEffect)((function(){e(function(){var e=Object(S.a)(k.a.mark((function e(a){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A("renew_admin");case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).success?(localStorage.setItem("token",n.token),localStorage.setItem("token-init-date",(new Date).getTime()),"CLIENT"===n.user.type_user?(a(ee()),a(X())):a(K({uid:n.user._id,name:n.user.name,lastname:n.user.lastname,email:n.user.email,type:n.user.type_user}))):a(X());case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}),[e]),t?r.a.createElement("h5",null,"Espere..."):r.a.createElement(N.a,null,r.a.createElement("div",null,r.a.createElement(w.d,null,r.a.createElement(w.b,{exact:!0,path:"/admin",render:function(){return r.a.createElement(w.a,{to:"/admin/home"})}}),r.a.createElement(je,{path:"/admin",component:Bn,isAuthenticated:!!l}),r.a.createElement(ve,{exact:!0,path:"/login/admin",redirect:"/admin",component:be,isAuthenticated:!!l}),r.a.createElement(ve,{path:"/",redirect:"/admin",component:At,isAuthenticated:!!l}),r.a.createElement(w.a,{to:"/"}))))},Un=function(){return r.a.createElement(o.a,{store:j},r.a.createElement(Mn,null))};t(233);c.a.render(r.a.createElement(Un,null),document.getElementById("root"))}},[[195,1,2]]]);
//# sourceMappingURL=main.97429ede.chunk.js.map